// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

model action_events {
  id              BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  batch_id        String    @db.Char(36)
  user_id         BigInt    @db.UnsignedBigInt
  name            String    @db.VarChar(255)
  actionable_type String    @db.VarChar(255)
  actionable_id   BigInt    @db.UnsignedBigInt
  target_type     String    @db.VarChar(255)
  target_id       BigInt    @db.UnsignedBigInt
  model_type      String    @db.VarChar(255)
  model_id        BigInt?   @db.UnsignedBigInt
  fields          String    @db.Text
  status          String    @default("running") @db.VarChar(25)
  exception       String    @db.Text
  created_at      DateTime? @db.Timestamp(0)
  updated_at      DateTime? @db.Timestamp(0)
  original        String?   @db.Text
  changes         String?   @db.Text

  @@index([actionable_type, actionable_id], map: "action_events_actionable_type_actionable_id_index")
  @@index([batch_id, model_type, model_id], map: "action_events_batch_id_model_type_model_id_index")
  @@index([user_id], map: "action_events_user_id_index")
}

model aggregate_correlations {
  id                                                                                          Int                                     @id @default(autoincrement())
  forward_pearson_correlation_coefficient                                                     Float                                   @db.Float
  onset_delay                                                                                 Int
  duration_of_action                                                                          Int
  number_of_pairs                                                                             Int
  value_predicting_high_outcome                                                               Float
  value_predicting_low_outcome                                                                Float
  optimal_pearson_product                                                                     Float
  average_vote                                                                                Float?                                  @default(0.5) @db.Float
  number_of_users                                                                             Int
  number_of_correlations                                                                      Int
  statistical_significance                                                                    Float                                   @db.Float
  cause_unit_id                                                                               Int?                                    @db.UnsignedSmallInt
  cause_changes                                                                               Int
  effect_changes                                                                              Int
  aggregate_qm_score                                                                          Float
  created_at                                                                                  DateTime                                @default(now()) @db.Timestamp(0)
  updated_at                                                                                  DateTime                                @default(now()) @db.Timestamp(0)
  status                                                                                      String                                  @db.VarChar(25)
  reverse_pearson_correlation_coefficient                                                     Float
  predictive_pearson_correlation_coefficient                                                  Float
  data_source_name                                                                            String?                                 @db.VarChar(255)
  predicts_high_effect_change                                                                 Int
  predicts_low_effect_change                                                                  Int
  p_value                                                                                     Float
  t_value                                                                                     Float
  critical_t_value                                                                            Float
  confidence_interval                                                                         Float
  deleted_at                                                                                  DateTime?                               @db.Timestamp(0)
  average_effect                                                                              Float
  average_effect_following_high_cause                                                         Float
  average_effect_following_low_cause                                                          Float
  average_daily_low_cause                                                                     Float
  average_daily_high_cause                                                                    Float
  population_trait_pearson_correlation_coefficient                                            Float?
  grouped_cause_value_closest_to_value_predicting_low_outcome                                 Float
  grouped_cause_value_closest_to_value_predicting_high_outcome                                Float
  client_id                                                                                   String?                                 @db.VarChar(255)
  published_at                                                                                DateTime?                               @db.Timestamp(0)
  wp_post_id                                                                                  BigInt?                                 @db.UnsignedBigInt
  cause_variable_category_id                                                                  Int                                     @db.UnsignedTinyInt
  effect_variable_category_id                                                                 Int                                     @db.UnsignedTinyInt
  interesting_variable_category_pair                                                          Boolean
  newest_data_at                                                                              DateTime?                               @db.Timestamp(0)
  analysis_requested_at                                                                       DateTime?                               @db.Timestamp(0)
  reason_for_analysis                                                                         String                                  @db.VarChar(255)
  analysis_started_at                                                                         DateTime                                @db.Timestamp(0)
  analysis_ended_at                                                                           DateTime?                               @db.Timestamp(0)
  user_error_message                                                                          String?                                 @db.Text
  internal_error_message                                                                      String?                                 @db.Text
  cause_variable_id                                                                           Int                                     @db.UnsignedInt
  effect_variable_id                                                                          Int                                     @db.UnsignedInt
  cause_baseline_average_per_day                                                              Float                                   @db.Float
  cause_baseline_average_per_duration_of_action                                               Float                                   @db.Float
  cause_treatment_average_per_day                                                             Float                                   @db.Float
  cause_treatment_average_per_duration_of_action                                              Float                                   @db.Float
  effect_baseline_average                                                                     Float                                   @db.Float
  effect_baseline_relative_standard_deviation                                                 Float                                   @db.Float
  effect_baseline_standard_deviation                                                          Float                                   @db.Float
  effect_follow_up_average                                                                    Float                                   @db.Float
  effect_follow_up_percent_change_from_baseline                                               Float                                   @db.Float
  z_score                                                                                     Float                                   @db.Float
  charts                                                                                      Json
  number_of_variables_where_best_aggregate_correlation                                        Int                                     @db.UnsignedInt
  deletion_reason                                                                             String?                                 @db.VarChar(280)
  record_size_in_kb                                                                           Int?
  is_public                                                                                   Boolean
  boring                                                                                      Boolean?
  outcome_is_a_goal                                                                           Boolean?
  predictor_is_controllable                                                                   Boolean?
  plausibly_causal                                                                            Boolean?
  obvious                                                                                     Boolean?
  number_of_up_votes                                                                          Int
  number_of_down_votes                                                                        Int
  strength_level                                                                              aggregate_correlations_strength_level
  confidence_level                                                                            aggregate_correlations_confidence_level
  relationship                                                                                aggregate_correlations_relationship
  slug                                                                                        String?                                 @unique(map: "aggregate_correlations_slug_uindex") @db.VarChar(200)
  units                                                                                       units?                                  @relation(fields: [cause_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "aggregate_correlations_cause_unit_id_fk")
  variable_categories_aggregate_correlations_cause_variable_category_idTovariable_categories  variable_categories                     @relation("aggregate_correlations_cause_variable_category_idTovariable_categories", fields: [cause_variable_category_id], references: [id], onUpdate: Restrict, map: "aggregate_correlations_cause_variable_category_id_fk")
  variables_aggregate_correlations_cause_variable_idTovariables                               variables                               @relation("aggregate_correlations_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "aggregate_correlations_cause_variables_id_fk")
  oa_clients                                                                                  oa_clients?                             @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "aggregate_correlations_client_id_fk")
  variable_categories_aggregate_correlations_effect_variable_category_idTovariable_categories variable_categories                     @relation("aggregate_correlations_effect_variable_category_idTovariable_categories", fields: [effect_variable_category_id], references: [id], onUpdate: Restrict, map: "aggregate_correlations_effect_variable_category_id_fk")
  variables_aggregate_correlations_effect_variable_idTovariables                              variables                               @relation("aggregate_correlations_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "aggregate_correlations_effect_variables_id_fk")
  wp_posts                                                                                    wp_posts?                               @relation(fields: [wp_post_id], references: [ID], map: "aggregate_correlations_wp_posts_ID_fk")
  correlation_causality_votes                                                                 correlation_causality_votes[]
  correlation_usefulness_votes                                                                correlation_usefulness_votes[]
  correlations                                                                                correlations[]
  global_studies                                                                              global_studies[]
  variables_aggregate_correlationsTovariables_best_aggregate_correlation_id                   variables[]                             @relation("aggregate_correlationsTovariables_best_aggregate_correlation_id")
  votes                                                                                       votes[]

  @@unique([cause_variable_id, effect_variable_id], map: "aggregate_correlations_pk")
  @@unique([cause_variable_id, effect_variable_id], map: "cause_variable_id_effect_variable_id_uindex")
  @@index([cause_unit_id], map: "aggregate_correlations_cause_unit_id_fk")
  @@index([cause_variable_category_id], map: "aggregate_correlations_cause_variable_category_id_fk")
  @@index([client_id], map: "aggregate_correlations_client_id_fk")
  @@index([effect_variable_category_id], map: "aggregate_correlations_effect_variable_category_id_fk")
  @@index([effect_variable_id], map: "aggregate_correlations_effect_variable_id_index")
  @@index([wp_post_id], map: "aggregate_correlations_wp_posts_ID_fk")
}

model applications {
  id                                                      Int             @id @default(autoincrement()) @db.UnsignedInt
  organization_id                                         Int?            @db.UnsignedInt
  client_id                                               String          @unique(map: "applications_client_id_unique") @db.VarChar(80)
  app_display_name                                        String          @db.VarChar(255)
  app_description                                         String?         @db.VarChar(255)
  long_description                                        String?         @db.Text
  user_id                                                 BigInt          @db.UnsignedBigInt
  icon_url                                                String?         @db.VarChar(2083)
  text_logo                                               String?         @db.VarChar(2083)
  splash_screen                                           String?         @db.VarChar(2083)
  homepage_url                                            String?         @db.VarChar(255)
  app_type                                                String?         @db.VarChar(32)
  app_design                                              String?         @db.MediumText
  created_at                                              DateTime        @default(now()) @db.Timestamp(0)
  updated_at                                              DateTime        @default(now()) @db.Timestamp(0)
  deleted_at                                              DateTime?       @db.Timestamp(0)
  enabled                                                 Int             @default(1) @db.TinyInt
  stripe_active                                           Int             @default(0) @db.TinyInt
  stripe_id                                               String?         @db.VarChar(255)
  stripe_subscription                                     String?         @db.VarChar(255)
  stripe_plan                                             String?         @db.VarChar(100)
  last_four                                               String?         @db.VarChar(4)
  trial_ends_at                                           DateTime?       @db.Timestamp(0)
  subscription_ends_at                                    DateTime?       @db.Timestamp(0)
  company_name                                            String?         @db.VarChar(100)
  country                                                 String?         @db.VarChar(100)
  address                                                 String?         @db.VarChar(255)
  state                                                   String?         @db.VarChar(100)
  city                                                    String?         @db.VarChar(100)
  zip                                                     String?         @db.VarChar(10)
  plan_id                                                 Int?
  exceeding_call_count                                    Int             @default(0)
  exceeding_call_charge                                   Decimal?        @db.Decimal(16, 2)
  study                                                   Int             @default(0) @db.TinyInt
  billing_enabled                                         Int             @default(1) @db.TinyInt
  outcome_variable_id                                     Int?            @db.UnsignedInt
  predictor_variable_id                                   Int?            @db.UnsignedInt
  physician                                               Int             @default(0) @db.TinyInt
  additional_settings                                     String?         @db.Text
  app_status                                              String?         @db.Text
  build_enabled                                           Boolean         @default(false)
  wp_post_id                                              BigInt?         @db.UnsignedBigInt
  number_of_collaborators_where_app                       Int?            @db.UnsignedInt
  is_public                                               Boolean?
  sort_order                                              Int
  slug                                                    String?         @unique(map: "applications_slug_uindex") @db.VarChar(200)
  oa_clients                                              oa_clients      @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "applications_client_id_fk")
  variables_applications_outcome_variable_idTovariables   variables?      @relation("applications_outcome_variable_idTovariables", fields: [outcome_variable_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "applications_outcome_variable_id_fk")
  variables_applications_predictor_variable_idTovariables variables?      @relation("applications_predictor_variable_idTovariables", fields: [predictor_variable_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "applications_predictor_variable_id_fk")
  wp_users                                                wp_users        @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "applications_user_id_fk")
  wp_posts                                                wp_posts?       @relation(fields: [wp_post_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "applications_wp_posts_ID_fk")
  collaborators                                           collaborators[]

  @@index([outcome_variable_id], map: "applications_outcome_variable_id_fk")
  @@index([predictor_variable_id], map: "applications_predictor_variable_id_fk")
  @@index([user_id], map: "applications_user_id_fk")
  @@index([wp_post_id], map: "applications_wp_posts_ID_fk")
}

model button_clicks {
  card_id      String     @db.VarChar(80)
  button_id    String     @db.VarChar(80)
  client_id    String     @db.VarChar(80)
  created_at   DateTime   @default(now()) @db.Timestamp(0)
  deleted_at   DateTime?  @db.Timestamp(0)
  id           Int        @id @default(autoincrement())
  input_fields String?    @db.Text
  intent_name  String?    @db.VarChar(80)
  parameters   String?    @db.Text
  updated_at   DateTime   @default(now()) @db.Timestamp(0)
  user_id      BigInt     @db.UnsignedBigInt
  oa_clients   oa_clients @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "button_clicks_client_id_fk")
  wp_users     wp_users   @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "button_clicks_user_id_fk")

  @@index([client_id], map: "button_clicks_client_id_fk")
  @@index([user_id], map: "button_clicks_user_id_fk")
}

model buttons {
  accessibility_text     String?    @db.VarChar(100)
  action                 String?    @db.VarChar(20)
  additional_information String?    @db.VarChar(20)
  client_id              String     @db.VarChar(80)
  color                  String?    @db.VarChar(20)
  confirmation_text      String?    @db.VarChar(100)
  created_at             DateTime   @default(now()) @db.Timestamp(0)
  deleted_at             DateTime?  @db.Timestamp(0)
  function_name          String?    @db.VarChar(20)
  function_parameters    String?    @db.Text
  html                   String?    @db.VarChar(200)
  element_id             String     @db.VarChar(80)
  image                  String?    @db.VarChar(100)
  input_fields           String?    @db.Text
  ion_icon               String?    @db.VarChar(20)
  link                   String?    @db.VarChar(100)
  state_name             String?    @db.VarChar(20)
  state_params           String?    @db.Text
  success_alert_body     String?    @db.VarChar(200)
  success_alert_title    String?    @db.VarChar(80)
  success_toast_text     String?    @db.VarChar(80)
  text                   String?    @db.VarChar(80)
  title                  String?    @db.VarChar(80)
  tooltip                String?    @db.VarChar(80)
  type                   String     @db.VarChar(80)
  updated_at             DateTime   @default(now()) @db.Timestamp(0)
  user_id                BigInt     @db.UnsignedBigInt
  id                     Int        @id @unique(map: "buttons_id_uindex") @default(autoincrement())
  slug                   String?    @unique(map: "buttons_slug_uindex") @db.VarChar(200)
  oa_clients             oa_clients @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "buttons_client_id_fk")
  wp_users               wp_users   @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "buttons_user_id_fk")

  @@index([client_id], map: "buttons_client_id_fk")
  @@index([user_id], map: "buttons_user_id_fk")
}

model cards {
  action_sheet_buttons String?    @db.Text
  avatar               String?    @db.VarChar(100)
  avatar_circular      String?    @db.VarChar(100)
  background_color     String?    @db.VarChar(20)
  buttons              String?    @db.Text
  client_id            String     @db.VarChar(80)
  content              String?    @db.Text
  created_at           DateTime   @default(now()) @db.Timestamp(0)
  deleted_at           DateTime?  @db.Timestamp(0)
  header_title         String?    @db.VarChar(100)
  html                 String?    @db.Text
  html_content         String?    @db.Text
  element_id           String     @db.VarChar(80)
  image                String?    @db.VarChar(100)
  input_fields         String?    @db.Text
  intent_name          String?    @db.VarChar(80)
  ion_icon             String?    @db.VarChar(20)
  link                 String?    @db.VarChar(2083)
  parameters           String?    @db.Text
  sharing_body         String?    @db.Text
  sharing_buttons      String?    @db.Text
  sharing_title        String?    @db.VarChar(80)
  sub_header           String?    @db.VarChar(80)
  sub_title            String?    @db.VarChar(80)
  title                String?    @db.VarChar(80)
  type                 String     @db.VarChar(80)
  updated_at           DateTime   @default(now()) @db.Timestamp(0)
  user_id              BigInt     @db.UnsignedBigInt
  url                  String?    @db.VarChar(2083)
  id                   Int        @id
  slug                 String?    @unique(map: "cards_slug_uindex") @db.VarChar(200)
  oa_clients           oa_clients @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "cards_client_id_fk")
  wp_users             wp_users   @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "cards_user_id_fk")

  @@index([client_id], map: "cards_client_id_fk")
  @@index([user_id], map: "cards_user_id_fk")
}

model checks {
  id                                          Int       @id @default(autoincrement()) @db.UnsignedInt
  host_id                                     Int       @db.UnsignedInt
  type                                        String    @db.VarChar(255)
  status                                      String?   @db.VarChar(255)
  enabled                                     Boolean   @default(true)
  last_run_message                            String?   @db.Text
  last_run_output                             Json?
  last_ran_at                                 DateTime? @db.Timestamp(0)
  next_run_in_minutes                         Int?
  started_throttling_failing_notifications_at DateTime? @db.Timestamp(0)
  custom_properties                           Json?
  created_at                                  DateTime? @db.Timestamp(0)
  updated_at                                  DateTime? @db.Timestamp(0)
  hosts                                       hosts     @relation(fields: [host_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "checks_host_id_foreign")

  @@index([host_id], map: "checks_host_id_foreign")
}

model child_parents {
  id                                              Int       @id @default(autoincrement()) @db.UnsignedInt
  child_user_id                                   BigInt    @db.UnsignedBigInt
  parent_user_id                                  BigInt    @db.UnsignedBigInt
  scopes                                          String    @db.VarChar(2000)
  created_at                                      DateTime  @default(now()) @db.Timestamp(0)
  updated_at                                      DateTime  @default(now()) @db.Timestamp(0)
  deleted_at                                      DateTime? @db.Timestamp(0)
  wp_users_child_parents_child_user_idTowp_users  wp_users  @relation("child_parents_child_user_idTowp_users", fields: [child_user_id], references: [ID], onUpdate: Restrict, map: "child_parents_wp_users_ID_fk")
  wp_users_child_parents_parent_user_idTowp_users wp_users  @relation("child_parents_parent_user_idTowp_users", fields: [parent_user_id], references: [ID], onUpdate: Restrict, map: "child_parents_wp_users_ID_fk_2")

  @@unique([child_user_id, parent_user_id], map: "child_user_id_parent_user_id_uindex")
  @@index([parent_user_id], map: "child_parents_wp_users_ID_fk_2")
}

model clockwork {
  id                       String  @id @db.VarChar(100)
  version                  Int?
  type                     String? @db.VarChar(100)
  time                     Float?
  method                   String? @db.VarChar(10)
  url                      String? @db.MediumText
  uri                      String? @db.MediumText
  headers                  String? @db.MediumText
  controller               String? @db.VarChar(250)
  getData                  String? @db.MediumText
  postData                 String? @db.MediumText
  requestData              String? @db.MediumText
  sessionData              String? @db.MediumText
  authenticatedUser        String? @db.MediumText
  cookies                  String? @db.MediumText
  responseTime             Float?
  responseStatus           Int?
  responseDuration         Float?
  memoryUsage              Float?
  middleware               String? @db.MediumText
  databaseQueries          String? @db.MediumText
  databaseQueriesCount     Int?
  databaseSlowQueries      Int?
  databaseSelects          Int?
  databaseInserts          Int?
  databaseUpdates          Int?
  databaseDeletes          Int?
  databaseOthers           Int?
  databaseDuration         Float?
  cacheQueries             String? @db.MediumText
  cacheReads               Int?
  cacheHits                Int?
  cacheWrites              Int?
  cacheDeletes             Int?
  cacheTime                Float?
  modelsActions            String? @db.MediumText
  modelsRetrieved          String? @db.MediumText
  modelsCreated            String? @db.MediumText
  modelsUpdated            String? @db.MediumText
  modelsDeleted            String? @db.MediumText
  redisCommands            String? @db.MediumText
  queueJobs                String? @db.MediumText
  timelineData             String? @db.MediumText
  log                      String? @db.MediumText
  events                   String? @db.MediumText
  routes                   String? @db.MediumText
  notifications            String? @db.MediumText
  emailsData               String? @db.MediumText
  viewsData                String? @db.MediumText
  userData                 String? @db.MediumText
  subrequests              String? @db.MediumText
  xdebug                   String? @db.MediumText
  commandName              String? @db.MediumText
  commandArguments         String? @db.MediumText
  commandArgumentsDefaults String? @db.MediumText
  commandOptions           String? @db.MediumText
  commandOptionsDefaults   String? @db.MediumText
  commandExitCode          Int?
  commandOutput            String? @db.MediumText
  jobName                  String? @db.MediumText
  jobDescription           String? @db.MediumText
  jobStatus                String? @db.MediumText
  jobPayload               String? @db.MediumText
  jobQueue                 String? @db.MediumText
  jobConnection            String? @db.MediumText
  jobOptions               String? @db.MediumText
  testName                 String? @db.MediumText
  testStatus               String? @db.MediumText
  testStatusMessage        String? @db.MediumText
  testAsserts              String? @db.MediumText
  clientMetrics            String? @db.MediumText
  webVitals                String? @db.MediumText
  parent                   String? @db.MediumText
  updateToken              String? @db.VarChar(100)

  @@index([time], map: "clockwork_time_index")
}

model cohort_studies {
  id                                                     Int         @id
  cohort_study_statistics_id                             Int?
  cause_variable_id                                      Int         @db.UnsignedInt
  effect_variable_id                                     Int         @db.UnsignedInt
  user_id                                                BigInt      @db.UnsignedBigInt
  created_at                                             DateTime    @default(now()) @db.Timestamp(0)
  deleted_at                                             DateTime?   @db.Timestamp(0)
  analysis_parameters                                    String?     @db.Text
  user_study_text                                        String?     @db.LongText
  user_title                                             String?     @db.Text
  study_status                                           String      @default("publish") @db.VarChar(20)
  comment_status                                         String      @default("open") @db.VarChar(20)
  study_password                                         String?     @db.VarChar(20)
  study_images                                           String?     @db.Text
  updated_at                                             DateTime    @default(now()) @db.Timestamp(0)
  client_id                                              String?     @db.VarChar(255)
  published_at                                           DateTime?   @db.Timestamp(0)
  wp_post_id                                             Int?
  cohort_correlation_id                                  Int?
  newest_data_at                                         DateTime?   @db.Timestamp(0)
  analysis_requested_at                                  DateTime?   @db.Timestamp(0)
  reason_for_analysis                                    String?     @db.VarChar(255)
  analysis_ended_at                                      DateTime?   @db.Timestamp(0)
  analysis_started_at                                    DateTime?   @db.Timestamp(0)
  internal_error_message                                 String?     @db.VarChar(255)
  user_error_message                                     String?     @db.VarChar(255)
  status                                                 String?     @db.VarChar(25)
  analysis_settings_modified_at                          DateTime?   @db.Timestamp(0)
  is_public                                              Boolean
  sort_order                                             Int
  slug                                                   String?     @unique(map: "cohort_studies_slug_uindex") @db.VarChar(200)
  variables_cohort_studies_cause_variable_idTovariables  variables   @relation("cohort_studies_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "cohort_studies_cause_variable_id_variables_id_fk")
  oa_clients                                             oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "cohort_studies_client_id_fk")
  variables_cohort_studies_effect_variable_idTovariables variables   @relation("cohort_studies_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "cohort_studies_effect_variable_id_variables_id_fk")
  wp_users                                               wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "cohort_studies_user_id_fk")

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "user_cause_effect")
  @@index([cause_variable_id], map: "cause_variable_id")
  @@index([cause_variable_id], map: "cohort_studies_cause_variable_id")
  @@index([client_id], map: "cohort_studies_client_id_fk")
  @@index([effect_variable_id], map: "cohort_studies_effect_variable_id")
  @@index([effect_variable_id], map: "effect_variable_id")
}

model cohort_study_statistics {
  id                                                                                           Int                                      @id @default(autoincrement())
  cohort_study_id                                                                              Int?
  forward_pearson_correlation_coefficient                                                      Float                                    @db.Float
  onset_delay                                                                                  Int
  duration_of_action                                                                           Int
  number_of_pairs                                                                              Int
  value_predicting_high_outcome                                                                Float
  value_predicting_low_outcome                                                                 Float
  optimal_pearson_product                                                                      Float
  average_vote                                                                                 Float?                                   @default(0.5) @db.Float
  number_of_participants                                                                       Int
  statistical_significance                                                                     Float                                    @db.Float
  cause_unit_id                                                                                Int?                                     @db.UnsignedSmallInt
  cause_changes                                                                                Int
  effect_changes                                                                               Int
  Cohort_qm_score                                                                              Float
  created_at                                                                                   DateTime                                 @default(now()) @db.Timestamp(0)
  updated_at                                                                                   DateTime                                 @default(now()) @db.Timestamp(0)
  status                                                                                       String                                   @db.VarChar(25)
  reverse_pearson_correlation_coefficient                                                      Float
  predictive_pearson_correlation_coefficient                                                   Float
  data_source_name                                                                             String?                                  @db.VarChar(255)
  predicts_high_effect_change                                                                  Int
  predicts_low_effect_change                                                                   Int
  p_value                                                                                      Float
  t_value                                                                                      Float
  critical_t_value                                                                             Float
  confidence_interval                                                                          Float
  deleted_at                                                                                   DateTime?                                @db.Timestamp(0)
  average_effect                                                                               Float
  average_effect_following_high_cause                                                          Float
  average_effect_following_low_cause                                                           Float
  average_daily_low_cause                                                                      Float
  average_daily_high_cause                                                                     Float
  population_trait_pearson_correlation_coefficient                                             Float?
  grouped_cause_value_closest_to_value_predicting_low_outcome                                  Float
  grouped_cause_value_closest_to_value_predicting_high_outcome                                 Float
  client_id                                                                                    String?                                  @db.VarChar(255)
  published_at                                                                                 DateTime?                                @db.Timestamp(0)
  wp_post_id                                                                                   BigInt?                                  @db.UnsignedBigInt
  cause_variable_category_id                                                                   Int                                      @db.UnsignedTinyInt
  effect_variable_category_id                                                                  Int                                      @db.UnsignedTinyInt
  interesting_variable_category_pair                                                           Boolean
  newest_data_at                                                                               DateTime?                                @db.Timestamp(0)
  analysis_requested_at                                                                        DateTime?                                @db.Timestamp(0)
  reason_for_analysis                                                                          String                                   @db.VarChar(255)
  analysis_started_at                                                                          DateTime                                 @default(dbgenerated("'0000-00-00 00:00:00'")) @db.Timestamp(0)
  analysis_ended_at                                                                            DateTime?                                @db.Timestamp(0)
  user_error_message                                                                           String?                                  @db.Text
  internal_error_message                                                                       String?                                  @db.Text
  cause_variable_id                                                                            Int                                      @db.UnsignedInt
  effect_variable_id                                                                           Int                                      @db.UnsignedInt
  cause_baseline_average_per_day                                                               Float                                    @db.Float
  cause_baseline_average_per_duration_of_action                                                Float                                    @db.Float
  cause_treatment_average_per_day                                                              Float                                    @db.Float
  cause_treatment_average_per_duration_of_action                                               Float                                    @db.Float
  effect_baseline_average                                                                      Float                                    @db.Float
  effect_baseline_relative_standard_deviation                                                  Float                                    @db.Float
  effect_baseline_standard_deviation                                                           Float                                    @db.Float
  effect_follow_up_average                                                                     Float                                    @db.Float
  effect_follow_up_percent_change_from_baseline                                                Float                                    @db.Float
  z_score                                                                                      Float                                    @db.Float
  charts                                                                                       Json
  number_of_variables_where_best_cohort_correlation                                            Int                                      @db.UnsignedInt
  deletion_reason                                                                              String?                                  @db.VarChar(280)
  record_size_in_kb                                                                            Int?
  is_public                                                                                    Boolean
  slug                                                                                         String?                                  @unique(map: "cohort_study_statistics_slug_uindex") @db.VarChar(200)
  boring                                                                                       Boolean?
  outcome_is_a_goal                                                                            Boolean?
  predictor_is_controllable                                                                    Boolean?
  plausibly_causal                                                                             Boolean?
  obvious                                                                                      Boolean?
  number_of_up_votes                                                                           Int
  number_of_down_votes                                                                         Int
  strength_level                                                                               cohort_study_statistics_strength_level
  confidence_level                                                                             cohort_study_statistics_confidence_level
  relationship                                                                                 cohort_study_statistics_relationship
  units                                                                                        units?                                   @relation(fields: [cause_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "cohort_study_statistics_cause_unit_id_fk")
  variable_categories_cohort_study_statistics_cause_variable_category_idTovariable_categories  variable_categories                      @relation("cohort_study_statistics_cause_variable_category_idTovariable_categories", fields: [cause_variable_category_id], references: [id], onUpdate: Restrict, map: "cohort_study_statistics_cause_variable_category_id_fk")
  variables_cohort_study_statistics_cause_variable_idTovariables                               variables                                @relation("cohort_study_statistics_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "cohort_study_statistics_cause_variables_id_fk")
  oa_clients                                                                                   oa_clients?                              @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "cohort_study_statistics_client_id_fk")
  variable_categories_cohort_study_statistics_effect_variable_category_idTovariable_categories variable_categories                      @relation("cohort_study_statistics_effect_variable_category_idTovariable_categories", fields: [effect_variable_category_id], references: [id], onUpdate: Restrict, map: "cohort_study_statistics_effect_variable_category_id_fk")
  variables_cohort_study_statistics_effect_variable_idTovariables                              variables                                @relation("cohort_study_statistics_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "cohort_study_statistics_effect_variables_id_fk")

  @@unique([cause_variable_id, effect_variable_id], map: "cause_variable_id_effect_variable_id_uindex")
  @@index([cause_unit_id], map: "cohort_study_statistics_cause_unit_id_fk")
  @@index([cause_variable_category_id], map: "cohort_study_statistics_cause_variable_category_id_fk")
  @@index([client_id], map: "cohort_study_statistics_client_id_fk")
  @@index([effect_variable_category_id], map: "cohort_study_statistics_effect_variable_category_id_fk")
  @@index([effect_variable_id], map: "cohort_study_statistics_effect_variable_id_index")
}

model collaborators {
  id           Int                @id @default(autoincrement()) @db.UnsignedInt
  user_id      BigInt             @db.UnsignedBigInt
  app_id       Int                @db.UnsignedInt
  type         collaborators_type @default(collaborator)
  created_at   DateTime           @default(now()) @db.Timestamp(0)
  updated_at   DateTime           @default(now()) @db.Timestamp(0)
  deleted_at   DateTime?          @db.Timestamp(0)
  client_id    String?            @db.VarChar(80)
  applications applications       @relation(fields: [app_id], references: [id], onDelete: Cascade, map: "collaborators_applications_id_fk")
  oa_clients   oa_clients?        @relation(fields: [client_id], references: [client_id], onDelete: Cascade, map: "collaborators_client_id_fk")
  wp_users     wp_users           @relation(fields: [user_id], references: [ID], onDelete: Cascade, map: "collaborators_user_id_fk")

  @@unique([user_id, client_id], map: "collaborators_user_client_index")
  @@index([app_id], map: "collaborators_applications_id_fk")
  @@index([client_id], map: "collaborators_client_id_fk")
}

model common_tags {
  id                                                  Int         @id @default(autoincrement()) @db.UnsignedInt
  tagged_variable_id                                  Int         @db.UnsignedInt
  tag_variable_id                                     Int         @db.UnsignedInt
  number_of_data_points                               Int?
  standard_error                                      Float?      @db.Float
  tag_variable_unit_id                                Int?        @db.UnsignedSmallInt
  tagged_variable_unit_id                             Int?        @db.UnsignedSmallInt
  conversion_factor                                   Float
  client_id                                           String?     @db.VarChar(80)
  created_at                                          DateTime    @default(now()) @db.Timestamp(0)
  updated_at                                          DateTime    @default(now()) @db.Timestamp(0)
  deleted_at                                          DateTime?   @db.Timestamp(0)
  oa_clients                                          oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "common_tags_client_id_fk")
  variables_common_tags_tag_variable_idTovariables    variables   @relation("common_tags_tag_variable_idTovariables", fields: [tag_variable_id], references: [id], onUpdate: Restrict, map: "common_tags_tag_variable_id_variables_id_fk")
  units_common_tags_tag_variable_unit_idTounits       units?      @relation("common_tags_tag_variable_unit_idTounits", fields: [tag_variable_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "common_tags_tag_variable_unit_id_fk")
  variables_common_tags_tagged_variable_idTovariables variables   @relation("common_tags_tagged_variable_idTovariables", fields: [tagged_variable_id], references: [id], onUpdate: Restrict, map: "common_tags_tagged_variable_id_variables_id_fk")
  units_common_tags_tagged_variable_unit_idTounits    units?      @relation("common_tags_tagged_variable_unit_idTounits", fields: [tagged_variable_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "common_tags_tagged_variable_unit_id_fk")

  @@unique([tagged_variable_id, tag_variable_id], map: "UK_tag_tagged")
  @@index([client_id], map: "common_tags_client_id_fk")
  @@index([tag_variable_id], map: "common_tags_tag_variable_id_variables_id_fk")
  @@index([tag_variable_unit_id], map: "common_tags_tag_variable_unit_id_fk")
  @@index([tagged_variable_unit_id], map: "common_tags_tagged_variable_unit_id_fk")
}

model connections {
  id                                Int                  @id @default(autoincrement()) @db.UnsignedInt
  client_id                         String?              @db.VarChar(80)
  user_id                           BigInt               @db.UnsignedBigInt
  connector_id                      Int                  @db.UnsignedInt
  connect_status                    String               @db.VarChar(32)
  connect_error                     String?              @db.Text
  update_requested_at               DateTime?            @db.Timestamp(0)
  update_status                     String               @db.VarChar(32)
  update_error                      String?              @db.Text
  last_successful_updated_at        DateTime?            @db.Timestamp(0)
  created_at                        DateTime             @default(now()) @db.Timestamp(0)
  updated_at                        DateTime             @default(now()) @db.Timestamp(0)
  deleted_at                        DateTime?            @db.Timestamp(0)
  total_measurements_in_last_update Int?
  user_message                      String?              @db.VarChar(255)
  latest_measurement_at             DateTime?            @db.Timestamp(0)
  import_started_at                 DateTime?            @db.Timestamp(0)
  import_ended_at                   DateTime?            @db.Timestamp(0)
  reason_for_import                 String?              @db.VarChar(255)
  user_error_message                String?              @db.Text
  internal_error_message            String?              @db.Text
  wp_post_id                        BigInt?              @db.UnsignedBigInt
  number_of_connector_imports       Int?                 @db.UnsignedInt
  number_of_connector_requests      Int?                 @db.UnsignedInt
  credentials                       String?              @db.Text
  imported_data_from_at             DateTime?            @db.Timestamp(0)
  imported_data_end_at              DateTime?            @db.Timestamp(0)
  number_of_measurements            Int?                 @db.UnsignedInt
  is_public                         Boolean?
  slug                              String?              @unique(map: "connections_slug_uindex") @db.VarChar(200)
  meta                              String?              @db.Text
  oa_clients                        oa_clients?          @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "connections_client_id_fk")
  connectors                        connectors           @relation(fields: [connector_id], references: [id], onUpdate: Restrict, map: "connections_connectors_id_fk")
  wp_users                          wp_users             @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "connections_user_id_fk")
  wp_posts                          wp_posts?            @relation(fields: [wp_post_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "connections_wp_posts_ID_fk")
  connector_imports                 connector_imports[]
  connector_requests                connector_requests[]
  measurements                      measurements[]

  @@unique([user_id, connector_id], map: "UX_userId_connectorId")
  @@index([connect_status], map: "IDX_status")
  @@index([client_id], map: "connections_client_id_fk")
  @@index([connector_id], map: "connections_connectors_id_fk")
  @@index([wp_post_id], map: "connections_wp_posts_ID_fk")
  @@index([update_status], map: "status")
  @@index([update_requested_at, update_status], map: "status_update_requested")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model connector_devices {
  id                Int?      @db.UnsignedInt
  name              String?   @db.TinyText
  display_name      String?   @db.TinyText
  image             String?   @db.VarChar(2083)
  get_it_url        String?   @db.VarChar(2083)
  short_description String?   @db.MediumText
  long_description  String?   @db.LongText
  enabled           Int?      @db.TinyInt
  oauth             Int?      @db.TinyInt
  qm_client         Int?      @db.TinyInt
  created_at        DateTime? @db.Timestamp(0)
  updated_at        DateTime? @db.Timestamp(0)
  client_id         String?   @db.TinyText
  deleted_at        DateTime? @db.Timestamp(0)
  is_parent         Int?      @db.TinyInt

  @@ignore
}

model connector_imports {
  id                                                       Int                  @id @default(autoincrement()) @db.UnsignedInt
  client_id                                                String?              @db.VarChar(80)
  connection_id                                            Int?                 @db.UnsignedInt
  connector_id                                             Int                  @db.UnsignedInt
  created_at                                               DateTime             @default(now()) @db.Timestamp(0)
  deleted_at                                               DateTime?            @db.Timestamp(0)
  earliest_measurement_at                                  DateTime?            @db.Timestamp(0)
  import_ended_at                                          DateTime?            @db.Timestamp(0)
  import_started_at                                        DateTime?            @db.Timestamp(0)
  internal_error_message                                   String?              @db.Text
  latest_measurement_at                                    DateTime?            @db.Timestamp(0)
  number_of_measurements                                   Int                  @default(0) @db.UnsignedInt
  reason_for_import                                        String?              @db.VarChar(255)
  success                                                  Boolean?             @default(true)
  updated_at                                               DateTime             @default(now()) @db.Timestamp(0)
  user_error_message                                       String?              @db.Text
  user_id                                                  BigInt               @db.UnsignedBigInt
  additional_meta_data                                     Json?
  number_of_connector_requests                             Int?                 @db.UnsignedInt
  imported_data_from_at                                    DateTime?            @db.Timestamp(0)
  imported_data_end_at                                     DateTime?            @db.Timestamp(0)
  credentials                                              String?              @db.Text
  connector_requests                                       DateTime?            @db.Timestamp(0)
  oa_clients                                               oa_clients?          @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "connector_imports_client_id_fk")
  connections                                              connections?         @relation(fields: [connection_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "connector_imports_connections_id_fk")
  connectors                                               connectors           @relation(fields: [connector_id], references: [id], onUpdate: Restrict, map: "connector_imports_connectors_id_fk")
  wp_users                                                 wp_users             @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "connector_imports_wp_users_ID_fk")
  connector_requests_connector_importsToconnector_requests connector_requests[]
  measurements                                             measurements[]

  @@unique([connection_id, created_at], map: "connector_imports_connection_id_created_at_uindex")
  @@unique([connector_id, user_id, created_at], map: "connector_imports_connector_id_user_id_created_at_uindex")
  @@index([user_id, connector_id], map: "IDX_connector_imports_user_connector")
  @@index([client_id], map: "connector_imports_client_id_fk")
}

model connector_requests {
  id                    Int               @id @default(autoincrement()) @db.UnsignedInt
  connector_id          Int               @db.UnsignedInt
  user_id               BigInt            @db.UnsignedBigInt
  connection_id         Int?              @db.UnsignedInt
  connector_import_id   Int               @db.UnsignedInt
  method                String            @db.VarChar(10)
  code                  Int
  uri                   String            @db.VarChar(2083)
  response_body         String?           @db.MediumText
  request_body          String?           @db.Text
  request_headers       String            @db.Text
  created_at            DateTime          @default(now()) @db.Timestamp(0)
  updated_at            DateTime          @default(now()) @db.Timestamp(0)
  deleted_at            DateTime?         @db.Timestamp(0)
  content_type          String?           @db.VarChar(100)
  imported_data_from_at DateTime?         @db.Timestamp(0)
  connections           connections?      @relation(fields: [connection_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "connector_requests_connections_id_fk")
  connector_imports     connector_imports @relation(fields: [connector_import_id], references: [id], onUpdate: Restrict, map: "connector_requests_connector_imports_id_fk")
  connectors            connectors        @relation(fields: [connector_id], references: [id], onUpdate: Restrict, map: "connector_requests_connectors_id_fk")
  wp_users              wp_users          @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "connector_requests_wp_users_ID_fk")

  @@index([connection_id], map: "connector_requests_connections_id_fk")
  @@index([connector_import_id], map: "connector_requests_connector_imports_id_fk")
  @@index([connector_id], map: "connector_requests_connectors_id_fk")
  @@index([user_id], map: "connector_requests_wp_users_ID_fk")
}

model connectors {
  id                           Int                  @id @default(autoincrement()) @db.UnsignedInt
  name                         String               @unique(map: "connectors_name_unique") @db.VarChar(30)
  display_name                 String               @db.VarChar(30)
  image                        String               @db.VarChar(2083)
  get_it_url                   String?              @db.VarChar(2083)
  short_description            String               @db.Text
  long_description             String               @db.LongText
  enabled                      Boolean              @default(true)
  oauth                        Boolean              @default(false)
  qm_client                    Boolean?             @default(false)
  created_at                   DateTime             @default(now()) @db.Timestamp(0)
  updated_at                   DateTime             @default(now()) @db.Timestamp(0)
  client_id                    String?              @db.VarChar(80)
  deleted_at                   DateTime?            @db.Timestamp(0)
  wp_post_id                   BigInt?              @db.UnsignedBigInt
  number_of_connections        Int?                 @db.UnsignedInt
  number_of_connector_imports  Int?                 @db.UnsignedInt
  number_of_connector_requests Int?                 @db.UnsignedInt
  number_of_measurements       Int?                 @db.UnsignedInt
  is_public                    Boolean?
  sort_order                   Int
  slug                         String?              @unique(map: "connectors_slug_uindex") @db.VarChar(200)
  available_outside_us         Boolean              @default(true)
  oa_clients                   oa_clients?          @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "connectors_client_id_fk")
  wp_posts                     wp_posts?            @relation(fields: [wp_post_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "connectors_wp_posts_ID_fk")
  connections                  connections[]
  connector_imports            connector_imports[]
  connector_requests           connector_requests[]
  measurements                 measurements[]

  @@index([client_id], map: "connectors_client_id_fk")
  @@index([wp_post_id], map: "connectors_wp_posts_ID_fk")
}

model correlation_causality_votes {
  id                                                                  Int                     @id @default(autoincrement()) @db.UnsignedInt
  cause_variable_id                                                   Int                     @db.UnsignedInt
  effect_variable_id                                                  Int                     @db.UnsignedInt
  correlation_id                                                      Int?
  aggregate_correlation_id                                            Int?
  user_id                                                             BigInt                  @db.UnsignedBigInt
  vote                                                                Int
  created_at                                                          DateTime                @default(now()) @db.Timestamp(0)
  updated_at                                                          DateTime                @default(now()) @db.Timestamp(0)
  deleted_at                                                          DateTime?               @db.Timestamp(0)
  client_id                                                           String?                 @db.VarChar(80)
  is_public                                                           Boolean?
  aggregate_correlations                                              aggregate_correlations? @relation(fields: [aggregate_correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "correlation_causality_votes_aggregate_correlations_id_fk")
  variables_correlation_causality_votes_cause_variable_idTovariables  variables               @relation("correlation_causality_votes_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "correlation_causality_votes_cause_variables_id_fk")
  oa_clients                                                          oa_clients?             @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "correlation_causality_votes_client_id_fk")
  correlations                                                        correlations?           @relation(fields: [correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "correlation_causality_votes_correlations_id_fk")
  variables_correlation_causality_votes_effect_variable_idTovariables variables               @relation("correlation_causality_votes_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "correlation_causality_votes_effect_variables_id_fk")
  wp_users                                                            wp_users                @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "correlation_causality_votes_wp_users_ID_fk")

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "correlation_causality_votes_user_cause_effect_uindex")
  @@index([aggregate_correlation_id], map: "correlation_causality_votes_aggregate_correlations_id_fk")
  @@index([cause_variable_id], map: "correlation_causality_votes_cause_variables_id_fk")
  @@index([client_id], map: "correlation_causality_votes_client_id_fk")
  @@index([correlation_id], map: "correlation_causality_votes_correlations_id_fk")
  @@index([effect_variable_id], map: "correlation_causality_votes_effect_variables_id_fk")
}

model correlation_usefulness_votes {
  id                                                                   Int                     @id @default(autoincrement()) @db.UnsignedInt
  cause_variable_id                                                    Int                     @db.UnsignedInt
  effect_variable_id                                                   Int                     @db.UnsignedInt
  correlation_id                                                       Int?
  aggregate_correlation_id                                             Int?
  user_id                                                              BigInt                  @db.UnsignedBigInt
  vote                                                                 Int
  created_at                                                           DateTime                @default(now()) @db.Timestamp(0)
  updated_at                                                           DateTime                @default(now()) @db.Timestamp(0)
  deleted_at                                                           DateTime?               @db.Timestamp(0)
  client_id                                                            String?                 @db.VarChar(80)
  is_public                                                            Boolean?
  aggregate_correlations                                               aggregate_correlations? @relation(fields: [aggregate_correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "correlation_usefulness_votes_aggregate_correlations_id_fk")
  variables_correlation_usefulness_votes_cause_variable_idTovariables  variables               @relation("correlation_usefulness_votes_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "correlation_usefulness_votes_cause_variables_id_fk")
  oa_clients                                                           oa_clients?             @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "correlation_usefulness_votes_client_id_fk")
  correlations                                                         correlations?           @relation(fields: [correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "correlation_usefulness_votes_correlations_id_fk")
  variables_correlation_usefulness_votes_effect_variable_idTovariables variables               @relation("correlation_usefulness_votes_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "correlation_usefulness_votes_effect_variables_id_fk")
  wp_users                                                             wp_users                @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "correlation_usefulness_votes_wp_users_ID_fk")

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "correlation_usefulness_votes_user_cause_effect_uindex")
  @@index([aggregate_correlation_id], map: "correlation_usefulness_votes_aggregate_correlations_id_fk")
  @@index([cause_variable_id], map: "correlation_usefulness_votes_cause_variables_id_fk")
  @@index([client_id], map: "correlation_usefulness_votes_client_id_fk")
  @@index([correlation_id], map: "correlation_usefulness_votes_correlations_id_fk")
  @@index([effect_variable_id], map: "correlation_usefulness_votes_effect_variables_id_fk")
}

model correlations {
  id                                                                                Int                            @id @default(autoincrement())
  user_id                                                                           BigInt                         @db.UnsignedBigInt
  cause_variable_id                                                                 Int                            @db.UnsignedInt
  effect_variable_id                                                                Int                            @db.UnsignedInt
  qm_score                                                                          Float?
  forward_pearson_correlation_coefficient                                           Float?                         @db.Float
  value_predicting_high_outcome                                                     Float?
  value_predicting_low_outcome                                                      Float?
  predicts_high_effect_change                                                       Int?
  predicts_low_effect_change                                                        Int
  average_effect                                                                    Float
  average_effect_following_high_cause                                               Float
  average_effect_following_low_cause                                                Float
  average_daily_low_cause                                                           Float
  average_daily_high_cause                                                          Float
  average_forward_pearson_correlation_over_onset_delays                             Float?                         @db.Float
  average_reverse_pearson_correlation_over_onset_delays                             Float?                         @db.Float
  cause_changes                                                                     Int
  cause_filling_value                                                               Float?
  cause_number_of_processed_daily_measurements                                      Int
  cause_number_of_raw_measurements                                                  Int
  cause_unit_id                                                                     Int?                           @db.UnsignedSmallInt
  confidence_interval                                                               Float
  critical_t_value                                                                  Float
  created_at                                                                        DateTime                       @default(now()) @db.Timestamp(0)
  data_source_name                                                                  String?                        @db.VarChar(255)
  deleted_at                                                                        DateTime?                      @db.Timestamp(0)
  duration_of_action                                                                Int
  effect_changes                                                                    Int
  effect_filling_value                                                              Float?
  effect_number_of_processed_daily_measurements                                     Int
  effect_number_of_raw_measurements                                                 Int
  forward_spearman_correlation_coefficient                                          Float                          @db.Float
  number_of_days                                                                    Int
  number_of_pairs                                                                   Int
  onset_delay                                                                       Int
  onset_delay_with_strongest_pearson_correlation                                    Int?
  optimal_pearson_product                                                           Float?
  p_value                                                                           Float?
  pearson_correlation_with_no_onset_delay                                           Float?                         @db.Float
  predictive_pearson_correlation_coefficient                                        Float?
  reverse_pearson_correlation_coefficient                                           Float?
  statistical_significance                                                          Float?                         @db.Float
  strongest_pearson_correlation_coefficient                                         Float?                         @db.Float
  t_value                                                                           Float?
  updated_at                                                                        DateTime                       @default(now()) @db.Timestamp(0)
  grouped_cause_value_closest_to_value_predicting_low_outcome                       Float
  grouped_cause_value_closest_to_value_predicting_high_outcome                      Float
  client_id                                                                         String?                        @db.VarChar(255)
  published_at                                                                      DateTime?                      @db.Timestamp(0)
  wp_post_id                                                                        BigInt?                        @db.UnsignedBigInt
  status                                                                            String?                        @db.VarChar(25)
  cause_variable_category_id                                                        Int                            @db.UnsignedTinyInt
  effect_variable_category_id                                                       Int                            @db.UnsignedTinyInt
  interesting_variable_category_pair                                                Boolean
  newest_data_at                                                                    DateTime?                      @db.Timestamp(0)
  analysis_requested_at                                                             DateTime?                      @db.Timestamp(0)
  reason_for_analysis                                                               String                         @db.VarChar(255)
  analysis_started_at                                                               DateTime                       @db.Timestamp(0)
  analysis_ended_at                                                                 DateTime?                      @db.Timestamp(0)
  user_error_message                                                                String?                        @db.Text
  internal_error_message                                                            String?                        @db.Text
  cause_user_variable_id                                                            Int                            @db.UnsignedInt
  effect_user_variable_id                                                           Int                            @db.UnsignedInt
  latest_measurement_start_at                                                       DateTime?                      @db.Timestamp(0)
  earliest_measurement_start_at                                                     DateTime?                      @db.Timestamp(0)
  cause_baseline_average_per_day                                                    Float                          @db.Float
  cause_baseline_average_per_duration_of_action                                     Float                          @db.Float
  cause_treatment_average_per_day                                                   Float                          @db.Float
  cause_treatment_average_per_duration_of_action                                    Float                          @db.Float
  effect_baseline_average                                                           Float?                         @db.Float
  effect_baseline_relative_standard_deviation                                       Float                          @db.Float
  effect_baseline_standard_deviation                                                Float?                         @db.Float
  effect_follow_up_average                                                          Float                          @db.Float
  effect_follow_up_percent_change_from_baseline                                     Float                          @db.Float
  z_score                                                                           Float?                         @db.Float
  experiment_end_at                                                                 DateTime                       @db.Timestamp(0)
  experiment_start_at                                                               DateTime                       @db.Timestamp(0)
  aggregate_correlation_id                                                          Int?
  aggregated_at                                                                     DateTime?                      @db.Timestamp(0)
  usefulness_vote                                                                   Int?
  causality_vote                                                                    Int?
  deletion_reason                                                                   String?                        @db.VarChar(280)
  record_size_in_kb                                                                 Int?
  correlations_over_durations                                                       String                         @db.Text
  correlations_over_delays                                                          String                         @db.Text
  is_public                                                                         Boolean?
  sort_order                                                                        Int
  boring                                                                            Boolean?
  outcome_is_goal                                                                   Boolean?
  predictor_is_controllable                                                         Boolean?
  plausibly_causal                                                                  Boolean?
  obvious                                                                           Boolean?
  number_of_up_votes                                                                Int
  number_of_down_votes                                                              Int
  strength_level                                                                    correlations_strength_level
  confidence_level                                                                  correlations_confidence_level
  relationship                                                                      correlations_relationship
  slug                                                                              String?                        @unique(map: "correlations_slug_uindex") @db.VarChar(200)
  aggregate_correlations                                                            aggregate_correlations?        @relation(fields: [aggregate_correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "correlations_aggregate_correlations_id_fk")
  units                                                                             units?                         @relation(fields: [cause_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "correlations_cause_unit_id_fk")
  variable_categories_correlations_cause_variable_category_idTovariable_categories  variable_categories            @relation("correlations_cause_variable_category_idTovariable_categories", fields: [cause_variable_category_id], references: [id], onUpdate: Restrict, map: "correlations_cause_variable_category_id_fk")
  variables_correlations_cause_variable_idTovariables                               variables                      @relation("correlations_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "correlations_cause_variable_id_fk")
  oa_clients                                                                        oa_clients?                    @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "correlations_client_id_fk")
  variable_categories_correlations_effect_variable_category_idTovariable_categories variable_categories            @relation("correlations_effect_variable_category_idTovariable_categories", fields: [effect_variable_category_id], references: [id], onUpdate: Restrict, map: "correlations_effect_variable_category_id_fk")
  variables_correlations_effect_variable_idTovariables                              variables                      @relation("correlations_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "correlations_effect_variable_id_fk")
  wp_users                                                                          wp_users                       @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "correlations_user_id_fk")
  user_variables_correlations_cause_user_variable_idTouser_variables                user_variables                 @relation("correlations_cause_user_variable_idTouser_variables", fields: [cause_user_variable_id], references: [id], onDelete: Cascade, map: "correlations_user_variables_cause_user_variable_id_fk")
  user_variables_correlations_effect_user_variable_idTouser_variables               user_variables                 @relation("correlations_effect_user_variable_idTouser_variables", fields: [effect_user_variable_id], references: [id], onDelete: Cascade, map: "correlations_user_variables_effect_user_variable_id_fk")
  wp_posts                                                                          wp_posts?                      @relation(fields: [wp_post_id], references: [ID], map: "correlations_wp_posts_ID_fk")
  correlation_causality_votes                                                       correlation_causality_votes[]
  correlation_usefulness_votes                                                      correlation_usefulness_votes[]
  user_studies                                                                      user_studies?
  user_variables_correlationsTouser_variables_best_user_correlation_id              user_variables[]               @relation("correlationsTouser_variables_best_user_correlation_id")
  votes                                                                             votes[]

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "correlations_pk")
  @@unique([user_id, cause_variable_id, effect_variable_id], map: "correlations_user_id_cause_variable_id_effect_variable_id_uindex")
  @@index([aggregate_correlation_id], map: "correlations_aggregate_correlations_id_fk")
  @@index([analysis_started_at], map: "correlations_analysis_started_at_index")
  @@index([cause_unit_id], map: "correlations_cause_unit_id_fk")
  @@index([cause_variable_category_id], map: "correlations_cause_variable_category_id_fk")
  @@index([cause_variable_id], map: "correlations_cause_variable_id_fk")
  @@index([client_id], map: "correlations_client_id_fk")
  @@index([deleted_at, analysis_ended_at], map: "correlations_deleted_at_analysis_ended_at_index")
  @@index([deleted_at, z_score], map: "correlations_deleted_at_z_score_index")
  @@index([effect_variable_category_id], map: "correlations_effect_variable_category_id_fk")
  @@index([effect_variable_id], map: "correlations_effect_variable_id_fk")
  @@index([updated_at], map: "correlations_updated_at_index")
  @@index([user_id, deleted_at, qm_score], map: "correlations_user_id_deleted_at_qm_score_index")
  @@index([cause_user_variable_id], map: "correlations_user_variables_cause_user_variable_id_fk")
  @@index([effect_user_variable_id], map: "correlations_user_variables_effect_user_variable_id_fk")
  @@index([wp_post_id], map: "correlations_wp_posts_ID_fk")
  @@index([user_id, cause_variable_id, deleted_at, qm_score], map: "user_id_cause_variable_id_deleted_at_qm_score_index")
  @@index([user_id, effect_variable_id, deleted_at, qm_score], map: "user_id_effect_variable_id_deleted_at_qm_score_index")
}

model credentials {
  user_id      BigInt      @db.UnsignedBigInt
  connector_id Int         @db.UnsignedInt
  attr_key     String      @db.VarChar(16)
  attr_value   Bytes       @db.VarBinary(3000)
  status       String?     @default("UPDATED") @db.VarChar(32)
  message      String?     @db.MediumText
  expires_at   DateTime?   @db.Timestamp(0)
  created_at   DateTime    @default(now()) @db.Timestamp(0)
  updated_at   DateTime    @default(now()) @db.Timestamp(0)
  deleted_at   DateTime?   @db.Timestamp(0)
  client_id    String?     @db.VarChar(255)
  oa_clients   oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "credentials_client_id_fk")
  wp_users     wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "credentials_user_id_fk")

  @@id([user_id, connector_id, attr_key])
  @@index([connector_id, expires_at, status], map: "IDX_status_expires_connector")
  @@index([client_id], map: "credentials_client_id_fk")
}

model crypto_trades {
  id                     Int       @id @default(autoincrement()) @db.UnsignedInt
  datetime               DateTime? @db.Timestamp(0)
  side                   String    @db.VarChar(255)
  symbol                 String    @db.VarChar(255)
  exchange               String    @db.VarChar(255)
  amount                 Float
  createdUnixTimeSeconds Int?
  fee                    Float?
  info                   String?   @db.LongText
  ohlcv                  String?   @db.LongText
  price                  Float?
  tradeParameters        String?   @db.LongText
  type                   String?   @db.VarChar(255)
  created_at             DateTime  @default(now()) @db.Timestamp(0)
  deleted_at             DateTime? @db.Timestamp(0)
  updated_at             DateTime  @default(now()) @db.Timestamp(0)

  @@unique([createdUnixTimeSeconds, exchange, side, symbol], map: "unique_index_name_here")
}

model ct_causes {
  id                   Int                  @id @default(autoincrement())
  name                 String               @unique(map: "causeName") @db.VarChar(100)
  variable_id          Int                  @unique(map: "ct_causes_variable_id_uindex") @db.UnsignedInt
  updated_at           DateTime             @default(now()) @db.Timestamp(0)
  created_at           DateTime             @default(now()) @db.Timestamp(0)
  deleted_at           DateTime?            @db.Timestamp(0)
  number_of_conditions Int                  @db.UnsignedInt
  variables            variables            @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "ct_causes_variables_id_fk")
  ct_condition_cause   ct_condition_cause[]
}

model ct_condition_cause {
  id                                                            Int           @id @default(autoincrement())
  condition_id                                                  Int
  cause_id                                                      Int
  condition_variable_id                                         Int           @db.UnsignedInt
  cause_variable_id                                             Int           @db.UnsignedInt
  votes_percent                                                 Int
  updated_at                                                    DateTime      @default(now()) @db.Timestamp(0)
  created_at                                                    DateTime      @default(now()) @db.Timestamp(0)
  deleted_at                                                    DateTime?     @db.Timestamp(0)
  ct_causes                                                     ct_causes     @relation(fields: [cause_id], references: [id], onUpdate: Restrict, map: "ct_condition_cause_ct_causes_cause_fk")
  ct_conditions                                                 ct_conditions @relation(fields: [condition_id], references: [id], onUpdate: Restrict, map: "ct_condition_cause_ct_conditions_id_condition_fk")
  variables_ct_condition_cause_condition_variable_idTovariables variables     @relation("ct_condition_cause_condition_variable_idTovariables", fields: [condition_variable_id], references: [id], onUpdate: Restrict, map: "ct_condition_cause_variables_id_condition_fk")
  variables_ct_condition_cause_cause_variable_idTovariables     variables     @relation("ct_condition_cause_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "ct_condition_cause_variables_id_fk")

  @@unique([cause_id, condition_id], map: "ct_condition_cause_cause_id_condition_id_uindex")
  @@unique([cause_variable_id, condition_variable_id], map: "ct_condition_cause_cause_uindex")
  @@index([condition_id], map: "ct_condition_cause_ct_conditions_id_condition_fk")
  @@index([condition_variable_id], map: "ct_condition_cause_variables_id_condition_fk")
}

model ct_condition_symptom {
  id                                                              Int           @id @default(autoincrement())
  condition_variable_id                                           Int           @db.UnsignedInt
  condition_id                                                    Int
  symptom_variable_id                                             Int           @db.UnsignedInt
  symptom_id                                                      Int
  votes                                                           Int
  extreme                                                         Int?
  severe                                                          Int?
  moderate                                                        Int?
  mild                                                            Int?
  minimal                                                         Int?
  no_symptoms                                                     Int?
  updated_at                                                      DateTime      @default(now()) @db.Timestamp(0)
  deleted_at                                                      DateTime?     @db.Timestamp(0)
  created_at                                                      DateTime      @default(now()) @db.Timestamp(0)
  ct_conditions                                                   ct_conditions @relation(fields: [condition_id], references: [id], onUpdate: Restrict, map: "ct_condition_symptom_conditions_fk")
  ct_symptoms                                                     ct_symptoms   @relation(fields: [symptom_id], references: [id], onUpdate: Restrict, map: "ct_condition_symptom_symptoms_fk")
  variables_ct_condition_symptom_condition_variable_idTovariables variables     @relation("ct_condition_symptom_condition_variable_idTovariables", fields: [condition_variable_id], references: [id], onUpdate: Restrict, map: "ct_condition_symptom_variables_condition_fk")
  variables_ct_condition_symptom_symptom_variable_idTovariables   variables     @relation("ct_condition_symptom_symptom_variable_idTovariables", fields: [symptom_variable_id], references: [id], onUpdate: Restrict, map: "ct_condition_symptom_variables_symptom_fk")

  @@unique([condition_variable_id, symptom_variable_id], map: "ct_condition_symptom_condition_uindex")
  @@unique([symptom_variable_id, condition_variable_id], map: "ct_condition_symptom_variable_id_uindex")
  @@index([condition_id], map: "ct_condition_symptom_conditions_fk")
  @@index([symptom_id], map: "ct_condition_symptom_symptoms_fk")
}

model ct_condition_treatment {
  id                                                                Int           @id @default(autoincrement())
  condition_id                                                      Int
  treatment_id                                                      Int
  condition_variable_id                                             Int?          @db.UnsignedInt
  treatment_variable_id                                             Int           @db.UnsignedInt
  major_improvement                                                 Int           @default(0)
  moderate_improvement                                              Int           @default(0)
  no_effect                                                         Int           @default(0)
  worse                                                             Int           @default(0)
  much_worse                                                        Int           @default(0)
  popularity                                                        Int           @default(0)
  average_effect                                                    Int           @default(0)
  updated_at                                                        DateTime      @default(now()) @db.Timestamp(0)
  created_at                                                        DateTime      @default(now()) @db.Timestamp(0)
  deleted_at                                                        DateTime?     @db.Timestamp(0)
  ct_conditions                                                     ct_conditions @relation(fields: [condition_id], references: [id], onUpdate: Restrict, map: "ct_condition_treatment_conditions_id_fk")
  ct_treatments                                                     ct_treatments @relation(fields: [treatment_id], references: [id], onUpdate: Restrict, map: "ct_condition_treatment_ct_treatments_fk")
  variables_ct_condition_treatment_treatment_variable_idTovariables variables     @relation("ct_condition_treatment_treatment_variable_idTovariables", fields: [treatment_variable_id], references: [id], onUpdate: Restrict, map: "ct_condition_treatment_variables_id_fk")
  variables_ct_condition_treatment_condition_variable_idTovariables variables?    @relation("ct_condition_treatment_condition_variable_idTovariables", fields: [condition_variable_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "ct_condition_treatment_variables_id_fk_2")

  @@unique([treatment_id, condition_id], map: "treatment_id_condition_id_uindex")
  @@unique([treatment_variable_id, condition_variable_id], map: "treatment_variable_id_condition_variable_id_uindex")
  @@index([condition_id], map: "ct_condition_treatment_conditions_id_fk")
  @@index([condition_variable_id], map: "ct_condition_treatment_variables_id_fk_2")
}

model ct_conditions {
  id                     Int                      @id @default(autoincrement())
  name                   String                   @unique(map: "conName") @db.VarChar(100)
  variable_id            Int                      @unique(map: "ct_conditions_variable_id_uindex") @db.UnsignedInt
  updated_at             DateTime                 @default(now()) @db.Timestamp(0)
  created_at             DateTime                 @default(now()) @db.Timestamp(0)
  deleted_at             DateTime?                @db.Timestamp(0)
  number_of_treatments   Int                      @db.UnsignedInt
  number_of_symptoms     Int?                     @db.UnsignedInt
  number_of_causes       Int                      @db.UnsignedInt
  variables              variables                @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "ct_conditions_variables_id_fk")
  ct_condition_cause     ct_condition_cause[]
  ct_condition_symptom   ct_condition_symptom[]
  ct_condition_treatment ct_condition_treatment[]
}

model ct_correlations {
  id                            Int       @id @default(autoincrement())
  user_id                       Int
  correlation_coefficient       Float?    @db.Float
  cause_variable_id             Int       @db.UnsignedInt
  effect_variable_id            Int       @db.UnsignedInt
  onset_delay                   Int?
  duration_of_action            Int?
  number_of_pairs               Int?
  value_predicting_high_outcome Float?
  value_predicting_low_outcome  Float?
  optimal_pearson_product       Float?
  vote                          Float?    @default(0.5) @db.Float
  statistical_significance      Float?    @db.Float
  cause_unit_id                 Int?
  cause_changes                 Int?
  effect_changes                Int?
  qm_score                      Float?
  error                         String?   @db.Text
  created_at                    DateTime  @default(now()) @db.Timestamp(0)
  updated_at                    DateTime  @default(now()) @db.Timestamp(0)
  deleted_at                    DateTime? @db.Timestamp(0)

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "user")
  @@index([cause_variable_id], map: "cause")
  @@index([effect_variable_id], map: "effect")
}

model ct_side_effects {
  id                           Int                            @id @default(autoincrement())
  name                         String                         @unique(map: "seName") @db.VarChar(100)
  variable_id                  Int                            @unique(map: "ct_side_effects_variable_id_uindex") @db.UnsignedInt
  updated_at                   DateTime                       @default(now()) @db.Timestamp(0)
  created_at                   DateTime                       @default(now()) @db.Timestamp(0)
  deleted_at                   DateTime?                      @db.Timestamp(0)
  number_of_treatments         Int                            @db.UnsignedInt
  variables                    variables                      @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "ct_side_effects_variables_id_fk")
  ct_treatment_side_effect     ct_treatment_side_effect[]
  ct_treatment_side_effect_bak ct_treatment_side_effect_bak[]
}

model ct_sideeffects {
  seID       Int       @id @default(autoincrement())
  seName     String    @unique(map: "seName") @db.VarChar(100)
  varID      Int
  updated_at DateTime  @default(now()) @db.Timestamp(0)
  created_at DateTime  @default(now()) @db.Timestamp(0)
  deleted_at DateTime? @db.Timestamp(0)
}

model ct_symptoms {
  id                   Int                    @id @default(autoincrement())
  name                 String                 @unique(map: "symName") @db.VarChar(100)
  variable_id          Int                    @unique(map: "ct_symptoms_variable_id_uindex") @db.UnsignedInt
  updated_at           DateTime               @default(now()) @db.Timestamp(0)
  created_at           DateTime               @default(now()) @db.Timestamp(0)
  deleted_at           DateTime?              @db.Timestamp(0)
  number_of_conditions Int                    @db.UnsignedInt
  variables            variables              @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "ct_symptoms_variables_id_fk")
  ct_condition_symptom ct_condition_symptom[]
}

model ct_treatment_side_effect {
  id                                                                    Int             @id @default(autoincrement())
  treatment_variable_id                                                 Int             @db.UnsignedInt
  side_effect_variable_id                                               Int             @db.UnsignedInt
  treatment_id                                                          Int
  side_effect_id                                                        Int
  votes_percent                                                         Int
  updated_at                                                            DateTime        @default(now()) @db.Timestamp(0)
  created_at                                                            DateTime        @default(now()) @db.Timestamp(0)
  deleted_at                                                            DateTime?       @db.Timestamp(0)
  variables_ct_treatment_side_effect_side_effect_variable_idTovariables variables       @relation("ct_treatment_side_effect_side_effect_variable_idTovariables", fields: [side_effect_variable_id], references: [id], onUpdate: Restrict, map: "side_effect_variables_id_fk")
  ct_side_effects                                                       ct_side_effects @relation(fields: [side_effect_id], references: [id], onUpdate: Restrict, map: "treatment_side_effect_side_effects_id_fk")
  ct_treatments                                                         ct_treatments   @relation(fields: [treatment_id], references: [id], onUpdate: Restrict, map: "treatment_side_effect_treatments_id_fk")
  variables_ct_treatment_side_effect_treatment_variable_idTovariables   variables       @relation("ct_treatment_side_effect_treatment_variable_idTovariables", fields: [treatment_variable_id], references: [id], onUpdate: Restrict, map: "treatment_variables_id_fk")

  @@unique([treatment_id, side_effect_id], map: "treatment_id_side_effect_id_uindex")
  @@unique([treatment_variable_id, side_effect_variable_id], map: "treatment_variable_id_side_effect_variable_id_uindex")
  @@index([side_effect_variable_id], map: "side_effect_variables_id_fk")
  @@index([side_effect_id], map: "treatment_side_effect_side_effects_id_fk")
}

model ct_treatment_side_effect_bak {
  id                      Int?
  treatment_id            Int
  side_effect_id          Int
  votes_percent           Int
  updated_at              DateTime        @default(now()) @db.Timestamp(0)
  created_at              DateTime        @default(now()) @db.Timestamp(0)
  deleted_at              DateTime?       @db.Timestamp(0)
  treatment_variable_id   Int?            @db.UnsignedInt
  side_effect_variable_id Int             @db.UnsignedInt
  ct_side_effects         ct_side_effects @relation(fields: [side_effect_id], references: [id], onUpdate: Restrict, map: "ct_treatment_side_effect_ct_side_effects_id_fk")
  ct_treatments           ct_treatments   @relation(fields: [treatment_id], references: [id], onUpdate: Restrict, map: "ct_treatment_side_effect_ct_treatments_id_fk")

  @@id([treatment_id, side_effect_id])
  @@index([side_effect_id], map: "seID")
}

model ct_treatment_sideeffect {
  treID        Int
  seID         Int
  votesPercent Int
  updated_at   DateTime  @default(now()) @db.Timestamp(0)
  created_at   DateTime  @default(now()) @db.Timestamp(0)
  deleted_at   DateTime? @db.Timestamp(0)

  @@id([treID, seID])
  @@index([seID], map: "seID")
}

model ct_treatments {
  id                           Int                            @id @default(autoincrement())
  name                         String                         @unique(map: "treName") @db.VarChar(100)
  variable_id                  Int                            @db.UnsignedInt
  updated_at                   DateTime                       @default(now()) @db.Timestamp(0)
  created_at                   DateTime                       @default(now()) @db.Timestamp(0)
  deleted_at                   DateTime?                      @db.Timestamp(0)
  number_of_conditions         Int?                           @db.UnsignedInt
  number_of_side_effects       Int                            @db.UnsignedInt
  variables                    variables                      @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "ct_treatments_variables_id_fk")
  ct_condition_treatment       ct_condition_treatment[]
  ct_treatment_side_effect     ct_treatment_side_effect[]
  ct_treatment_side_effect_bak ct_treatment_side_effect_bak[]

  @@index([variable_id], map: "ct_treatments_variables_id_fk")
}

model device_tokens {
  device_token                                      String      @id @db.VarChar(255)
  created_at                                        DateTime    @default(now()) @db.Timestamp(0)
  updated_at                                        DateTime    @default(now()) @db.Timestamp(0)
  deleted_at                                        DateTime?   @db.Timestamp(0)
  user_id                                           BigInt      @db.UnsignedBigInt
  number_of_waiting_tracking_reminder_notifications Int?        @db.UnsignedInt
  last_notified_at                                  DateTime?   @db.Timestamp(0)
  platform                                          String      @db.VarChar(255)
  number_of_new_tracking_reminder_notifications     Int?        @db.UnsignedInt
  number_of_notifications_last_sent                 Int?        @db.UnsignedInt
  error_message                                     String?     @db.VarChar(255)
  last_checked_at                                   DateTime?   @db.Timestamp(0)
  received_at                                       DateTime?   @db.Timestamp(0)
  server_ip                                         String?     @db.VarChar(255)
  server_hostname                                   String?     @db.VarChar(255)
  client_id                                         String?     @db.VarChar(255)
  oa_clients                                        oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "device_tokens_client_id_fk")
  wp_users                                          wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "device_tokens_user_id_fk")

  @@index([client_id], map: "device_tokens_client_id_fk")
  @@index([user_id], map: "index_user_id")
}

model failed_jobs {
  id         BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  connection String   @db.Text
  queue      String   @db.Text
  payload    String   @db.LongText
  exception  String   @db.LongText
  failed_at  DateTime @default(now()) @db.Timestamp(0)
  uuid       String   @unique(map: "failed_jobs_uuid") @db.VarChar(255)
}

model favorites {
  id                BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id           BigInt    @db.UnsignedBigInt
  favoriteable_type String    @db.VarChar(255)
  favoriteable_id   BigInt    @db.UnsignedBigInt
  created_at        DateTime? @db.Timestamp(0)
  updated_at        DateTime? @db.Timestamp(0)
  is_public         Boolean?

  @@index([favoriteable_type, favoriteable_id], map: "favorites_favoriteable_type_favoriteable_id_index")
  @@index([user_id], map: "favorites_user_id_index")
}

model followers {
  id               Int       @id @default(autoincrement()) @db.UnsignedInt
  user_id          Int
  followed_user_id Int
  created_at       DateTime? @db.Timestamp(0)
  updated_at       DateTime? @db.Timestamp(0)

  @@index([followed_user_id], map: "followers_followed_user_id_index")
  @@index([user_id], map: "followers_user_id_index")
}

model github_repositories {
  id                     Int         @id @unique(map: "github_repositories_id_uindex") @db.UnsignedInt
  client_id              String?     @db.VarChar(80)
  created_at             DateTime    @default(now()) @db.Timestamp(0)
  deleted_at             DateTime?   @db.Timestamp(0)
  updated_at             DateTime    @default(now()) @db.Timestamp(0)
  user_id                BigInt      @db.UnsignedBigInt
  github_repository_id   Int         @unique(map: "github_repositories_github_repository_id_uindex")
  node_id                String      @db.VarChar(255)
  name                   String      @unique(map: "github_repositories_name_uindex") @db.VarChar(255)
  full_name              String      @db.VarChar(255)
  private                Boolean
  owner                  String      @db.LongText
  html_url               String      @unique(map: "github_repositories_html_url_uindex") @db.VarChar(255)
  description            String      @db.VarChar(255)
  fork                   Boolean
  url                    String      @unique(map: "github_repositories_url_uindex") @db.VarChar(255)
  forks_url              String      @db.VarChar(255)
  keys_url               String      @db.VarChar(255)
  collaborators_url      String      @db.VarChar(255)
  teams_url              String      @db.VarChar(255)
  hooks_url              String      @db.VarChar(255)
  issue_events_url       String      @db.VarChar(255)
  events_url             String      @db.VarChar(255)
  assignees_url          String      @db.VarChar(255)
  branches_url           String      @db.VarChar(255)
  tags_url               String      @db.VarChar(255)
  blobs_url              String      @db.VarChar(255)
  git_tags_url           String      @db.VarChar(255)
  git_refs_url           String      @db.VarChar(255)
  trees_url              String      @db.VarChar(255)
  statuses_url           String      @db.VarChar(255)
  languages_url          String      @db.VarChar(255)
  stargazers_url         String      @db.VarChar(255)
  contributors_url       String      @db.VarChar(255)
  subscribers_url        String      @db.VarChar(255)
  subscription_url       String      @db.VarChar(255)
  commits_url            String      @db.VarChar(255)
  git_commits_url        String      @db.VarChar(255)
  comments_url           String      @db.VarChar(255)
  issue_comment_url      String      @db.VarChar(255)
  contents_url           String      @db.VarChar(255)
  compare_url            String      @db.VarChar(255)
  merges_url             String      @db.VarChar(255)
  archive_url            String      @db.VarChar(255)
  downloads_url          String      @db.VarChar(255)
  issues_url             String      @db.VarChar(255)
  pulls_url              String      @db.VarChar(255)
  milestones_url         String      @db.VarChar(255)
  notifications_url      String      @db.VarChar(255)
  labels_url             String      @db.VarChar(255)
  releases_url           String      @db.VarChar(255)
  deployments_url        String      @db.VarChar(255)
  pushed_at              String      @db.VarChar(255)
  git_url                String      @unique(map: "github_repositories_git_url_uindex") @db.VarChar(255)
  ssh_url                String      @unique(map: "github_repositories_ssh_url_uindex") @db.VarChar(255)
  clone_url              String      @db.VarChar(255)
  svn_url                String      @db.VarChar(255)
  homepage               String      @db.VarChar(255)
  size                   Int
  stargazers_count       Int
  watchers_count         Int
  language               String      @db.VarChar(255)
  has_issues             Boolean
  has_projects           Boolean
  has_downloads          Boolean
  has_wiki               Boolean
  has_pages              Boolean
  forks_count            Int
  archived               Boolean
  disabled               Boolean
  open_issues_count      Int
  allow_forking          Boolean
  is_template            Boolean
  topics                 String      @db.LongText
  visibility             String      @db.VarChar(255)
  forks                  Int
  open_issues            Int
  watchers               Int
  default_branch         String      @db.VarChar(255)
  permissions            String      @db.LongText
  temp_clone_token       String      @db.VarChar(255)
  allow_squash_merge     Boolean
  allow_merge_commit     Boolean
  allow_rebase_merge     Boolean
  allow_auto_merge       Boolean
  delete_branch_on_merge Boolean
  network_count          Int
  subscribers_count      Int
  oa_clients             oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "github_repositories_oa_clients_client_id_fk")
  wp_users               wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "github_repositories_wp_users_ID_fk")

  @@index([client_id], map: "github_repositories_oa_clients_client_id_fk")
  @@index([user_id], map: "github_repositories_wp_users_ID_fk")
}

model global_studies {
  id                                                     Int                     @id
  aggregate_correlation_id                               Int?
  cause_variable_id                                      Int                     @db.UnsignedInt
  effect_variable_id                                     Int                     @db.UnsignedInt
  cause_user_variable_id                                 Int                     @db.UnsignedInt
  effect_user_variable_id                                Int                     @db.UnsignedInt
  user_id                                                BigInt                  @db.UnsignedBigInt
  created_at                                             DateTime                @default(now()) @db.Timestamp(0)
  deleted_at                                             DateTime?               @db.Timestamp(0)
  analysis_parameters                                    String?                 @db.Text
  user_study_text                                        String?                 @db.LongText
  user_title                                             String?                 @db.Text
  study_status                                           String                  @default("publish") @db.VarChar(20)
  comment_status                                         String                  @default("open") @db.VarChar(20)
  study_password                                         String?                 @db.VarChar(20)
  study_images                                           String?                 @db.Text
  updated_at                                             DateTime                @default(now()) @db.Timestamp(0)
  client_id                                              String?                 @db.VarChar(255)
  published_at                                           DateTime?               @db.Timestamp(0)
  wp_post_id                                             Int?
  newest_data_at                                         DateTime?               @db.Timestamp(0)
  analysis_requested_at                                  DateTime?               @db.Timestamp(0)
  reason_for_analysis                                    String?                 @db.VarChar(255)
  analysis_ended_at                                      DateTime?               @db.Timestamp(0)
  analysis_started_at                                    DateTime?               @db.Timestamp(0)
  internal_error_message                                 String?                 @db.VarChar(255)
  user_error_message                                     String?                 @db.VarChar(255)
  status                                                 String?                 @db.VarChar(25)
  analysis_settings_modified_at                          DateTime?               @db.Timestamp(0)
  is_public                                              Boolean
  sort_order                                             Int
  slug                                                   String?                 @unique(map: "global_studies_slug_uindex") @db.VarChar(200)
  aggregate_correlations                                 aggregate_correlations? @relation(fields: [aggregate_correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "global_studies_aggregate_correlations_id_fk")
  variables_global_studies_cause_variable_idTovariables  variables               @relation("global_studies_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "global_studies_cause_variable_id_variables_id_fk")
  oa_clients                                             oa_clients?             @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "global_studies_client_id_fk")
  variables_global_studies_effect_variable_idTovariables variables               @relation("global_studies_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "global_studies_effect_variable_id_variables_id_fk")
  wp_users                                               wp_users                @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "global_studies_user_id_fk")

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "user_cause_effect")
  @@index([aggregate_correlation_id], map: "global_studies_aggregate_correlations_id_fk")
  @@index([cause_variable_id], map: "global_studies_cause_variable_id")
  @@index([client_id], map: "global_studies_client_id_fk")
  @@index([effect_variable_id], map: "global_studies_effect_variable_id")
}

model health_checks {
  id             Int      @id @default(autoincrement()) @db.UnsignedInt
  resource_name  String   @db.VarChar(255)
  resource_slug  String   @db.VarChar(255)
  target_name    String   @db.VarChar(255)
  target_slug    String   @db.VarChar(255)
  target_display String   @db.VarChar(255)
  healthy        Boolean
  error_message  String?  @db.Text
  runtime        Float
  value          String?  @db.VarChar(255)
  value_human    String?  @db.VarChar(255)
  created_at     DateTime @default(now()) @db.Timestamp(0)

  @@index([created_at], map: "health_checks_created_at_index")
  @@index([resource_slug], map: "health_checks_resource_slug_index")
  @@index([target_slug], map: "health_checks_target_slug_index")
}

model hosts {
  id                Int       @id @default(autoincrement()) @db.UnsignedInt
  name              String    @db.VarChar(255)
  ssh_user          String?   @db.VarChar(255)
  port              Int?
  ip                String?   @db.VarChar(255)
  custom_properties Json?
  created_at        DateTime? @db.Timestamp(0)
  updated_at        DateTime? @db.Timestamp(0)
  checks            checks[]
}

model jobs {
  id           BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  queue        String @db.VarChar(255)
  payload      String @db.LongText
  attempts     Int    @db.UnsignedTinyInt
  reserved_at  Int?   @db.UnsignedInt
  available_at Int    @db.UnsignedInt
  created_at   Int    @db.UnsignedInt

  @@index([queue], map: "jobs_queue_index")
}

model likes {
  id            BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id       BigInt    @db.UnsignedBigInt
  likeable_type String    @db.VarChar(255)
  likeable_id   BigInt    @db.UnsignedBigInt
  created_at    DateTime? @db.Timestamp(0)
  updated_at    DateTime? @db.Timestamp(0)

  @@index([likeable_type, likeable_id], map: "likes_likeable_type_likeable_id_index")
  @@index([user_id], map: "likes_user_id_index")
}

model love_reactant_reaction_counters {
  id                  BigInt              @id @default(autoincrement()) @db.UnsignedBigInt
  reactant_id         BigInt              @db.UnsignedBigInt
  reaction_type_id    BigInt              @db.UnsignedBigInt
  count               BigInt              @db.UnsignedBigInt
  weight              Decimal             @db.Decimal(13, 2)
  created_at          DateTime?           @db.Timestamp(0)
  updated_at          DateTime?           @db.Timestamp(0)
  love_reactants      love_reactants      @relation(fields: [reactant_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "love_reactant_reaction_counters_reactant_id_foreign")
  love_reaction_types love_reaction_types @relation(fields: [reaction_type_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "love_reactant_reaction_counters_reaction_type_id_foreign")

  @@index([reactant_id, reaction_type_id], map: "love_reactant_reaction_counters_reactant_reaction_type_index")
  @@index([reaction_type_id], map: "love_reactant_reaction_counters_reaction_type_id_foreign")
}

model love_reactant_reaction_totals {
  id             BigInt         @id @default(autoincrement()) @db.UnsignedBigInt
  reactant_id    BigInt         @db.UnsignedBigInt
  count          BigInt         @db.UnsignedBigInt
  weight         Decimal        @db.Decimal(13, 2)
  created_at     DateTime?      @db.Timestamp(0)
  updated_at     DateTime?      @db.Timestamp(0)
  love_reactants love_reactants @relation(fields: [reactant_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "love_reactant_reaction_totals_reactant_id_foreign")

  @@index([reactant_id], map: "love_reactant_reaction_totals_reactant_id_foreign")
}

model love_reactants {
  id                              BigInt                            @id @default(autoincrement()) @db.UnsignedBigInt
  type                            String                            @db.VarChar(255)
  created_at                      DateTime?                         @db.Timestamp(0)
  updated_at                      DateTime?                         @db.Timestamp(0)
  love_reactant_reaction_counters love_reactant_reaction_counters[]
  love_reactant_reaction_totals   love_reactant_reaction_totals[]
  love_reactions                  love_reactions[]

  @@index([type], map: "love_reactants_type_index")
}

model love_reacters {
  id             BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  type           String           @db.VarChar(255)
  created_at     DateTime?        @db.Timestamp(0)
  updated_at     DateTime?        @db.Timestamp(0)
  love_reactions love_reactions[]

  @@index([type], map: "love_reacters_type_index")
}

model love_reaction_types {
  id                              BigInt                            @id @default(autoincrement()) @db.UnsignedBigInt
  name                            String                            @db.VarChar(255)
  mass                            Int                               @db.TinyInt
  created_at                      DateTime?                         @db.Timestamp(0)
  updated_at                      DateTime?                         @db.Timestamp(0)
  love_reactant_reaction_counters love_reactant_reaction_counters[]
  love_reactions                  love_reactions[]

  @@index([name], map: "love_reaction_types_name_index")
}

model love_reactions {
  id                  BigInt              @id @default(autoincrement()) @db.UnsignedBigInt
  reactant_id         BigInt              @db.UnsignedBigInt
  reacter_id          BigInt              @db.UnsignedBigInt
  reaction_type_id    BigInt              @db.UnsignedBigInt
  rate                Decimal             @db.Decimal(4, 2)
  created_at          DateTime?           @db.Timestamp(0)
  updated_at          DateTime?           @db.Timestamp(0)
  love_reactants      love_reactants      @relation(fields: [reactant_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "love_reactions_reactant_id_foreign")
  love_reacters       love_reacters       @relation(fields: [reacter_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "love_reactions_reacter_id_foreign")
  love_reaction_types love_reaction_types @relation(fields: [reaction_type_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "love_reactions_reaction_type_id_foreign")

  @@index([reactant_id, reacter_id], map: "love_reactions_reactant_id_reacter_id_index")
  @@index([reactant_id, reacter_id, reaction_type_id], map: "love_reactions_reactant_id_reacter_id_reaction_type_id_index")
  @@index([reactant_id, reaction_type_id], map: "love_reactions_reactant_id_reaction_type_id_index")
  @@index([reacter_id, reaction_type_id], map: "love_reactions_reacter_id_reaction_type_id_index")
  @@index([reaction_type_id], map: "love_reactions_reaction_type_id_foreign")
}

model mailbox_inbound_emails {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  message_id String    @db.VarChar(255)
  message    String    @db.LongText
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model measurement_exports {
  id            Int                             @id @default(autoincrement())
  user_id       BigInt                          @db.UnsignedBigInt
  client_id     String?                         @db.VarChar(255)
  status        String                          @db.VarChar(32)
  type          measurement_exports_type        @default(user)
  output_type   measurement_exports_output_type @default(csv)
  error_message String?                         @db.VarChar(255)
  created_at    DateTime                        @default(now()) @db.Timestamp(0)
  updated_at    DateTime                        @default(now()) @db.Timestamp(0)
  deleted_at    DateTime?                       @db.Timestamp(0)
  oa_clients    oa_clients?                     @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "measurement_exports_client_id_fk")
  wp_users      wp_users                        @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "measurement_exports_user_id_fk")

  @@index([client_id], map: "measurement_exports_client_id_fk")
  @@index([user_id], map: "measurement_exports_user_id_fk")
}

model measurement_imports {
  id                     Int         @id @default(autoincrement()) @db.UnsignedInt
  user_id                BigInt      @db.UnsignedBigInt
  file                   String      @db.VarChar(255)
  created_at             DateTime    @default(now()) @db.Timestamp(0)
  updated_at             DateTime    @default(now()) @db.Timestamp(0)
  status                 String      @default("WAITING") @db.VarChar(25)
  error_message          String?     @db.Text
  source_name            String?     @db.VarChar(80)
  deleted_at             DateTime?   @db.Timestamp(0)
  client_id              String?     @db.VarChar(255)
  import_started_at      DateTime?   @db.Timestamp(0)
  import_ended_at        DateTime?   @db.Timestamp(0)
  reason_for_import      String?     @db.VarChar(255)
  user_error_message     String?     @db.VarChar(255)
  internal_error_message String?     @db.VarChar(255)
  oa_clients             oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "measurement_imports_client_id_fk")
  wp_users               wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "measurement_imports_user_id_fk")

  @@index([client_id], map: "measurement_imports_client_id_fk")
  @@index([user_id], map: "measurement_imports_user_id_fk")
}

model measurements {
  id                                         BigInt              @id @default(autoincrement())
  user_id                                    BigInt              @db.UnsignedBigInt
  client_id                                  String              @db.VarChar(80)
  connector_id                               Int?                @db.UnsignedInt
  variable_id                                Int                 @db.UnsignedInt
  start_time                                 Int                 @db.UnsignedInt
  value                                      Float
  unit_id                                    Int                 @db.UnsignedSmallInt
  original_value                             Float
  original_unit_id                           Int                 @db.UnsignedSmallInt
  duration                                   Int?
  note                                       String?             @db.Text
  latitude                                   Float?
  longitude                                  Float?
  location                                   String?             @db.VarChar(255)
  created_at                                 DateTime            @default(now()) @db.Timestamp(0)
  updated_at                                 DateTime            @default(now()) @db.Timestamp(0)
  error                                      String?             @db.Text
  variable_category_id                       Int                 @db.UnsignedTinyInt
  deleted_at                                 DateTime?           @db.DateTime(0)
  source_name                                String?             @db.VarChar(80)
  user_variable_id                           Int                 @db.UnsignedInt
  start_at                                   DateTime            @db.Timestamp(0)
  connection_id                              Int?                @db.UnsignedInt
  connector_import_id                        Int?                @db.UnsignedInt
  deletion_reason                            String?             @db.VarChar(280)
  original_start_at                          DateTime            @db.Timestamp(0)
  oa_clients                                 oa_clients          @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "measurements_client_id_fk")
  connections                                connections?        @relation(fields: [connection_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "measurements_connections_id_fk")
  connector_imports                          connector_imports?  @relation(fields: [connector_import_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "measurements_connector_imports_id_fk")
  connectors                                 connectors?         @relation(fields: [connector_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "measurements_connectors_id_fk")
  units_measurements_original_unit_idTounits units               @relation("measurements_original_unit_idTounits", fields: [original_unit_id], references: [id], onUpdate: Restrict, map: "measurements_original_unit_id_fk")
  units_measurements_unit_idTounits          units               @relation("measurements_unit_idTounits", fields: [unit_id], references: [id], onUpdate: Restrict, map: "measurements_unit_id_fk")
  wp_users                                   wp_users            @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "measurements_user_id_fk")
  user_variables                             user_variables      @relation(fields: [user_variable_id], references: [id], onUpdate: Restrict, map: "measurements_user_variables_user_variable_id_fk")
  variable_categories                        variable_categories @relation(fields: [variable_category_id], references: [id], onUpdate: Restrict, map: "measurements_variable_category_id_fk")
  variables                                  variables           @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "measurements_variables_id_fk")

  @@unique([user_id, variable_id, start_time], map: "measurements_pk")
  @@index([client_id], map: "measurements_client_id_fk")
  @@index([connection_id], map: "measurements_connections_id_fk")
  @@index([connector_import_id], map: "measurements_connector_imports_id_fk")
  @@index([connector_id], map: "measurements_connectors_id_fk")
  @@index([original_unit_id], map: "measurements_original_unit_id_fk")
  @@index([start_time], map: "measurements_start_time_index")
  @@index([unit_id], map: "measurements_unit_id_fk")
  @@index([user_id, variable_category_id, start_time], map: "measurements_user_id_variable_category_id_start_time_index")
  @@index([user_variable_id], map: "measurements_user_variables_user_variable_id_fk")
  @@index([variable_id, user_id], map: "measurements_user_variables_variable_id_user_id_fk")
  @@index([variable_category_id], map: "measurements_variable_category_id_fk")
  @@index([variable_id, start_time], map: "measurements_variable_id_start_time_index")
  @@index([variable_id, value, start_time], map: "measurements_variable_id_value_start_time_index")
}

model media {
  id                BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  model_type        String    @db.VarChar(255)
  model_id          BigInt    @db.UnsignedBigInt
  collection_name   String    @db.VarChar(255)
  name              String    @db.VarChar(255)
  file_name         String    @db.VarChar(255)
  mime_type         String?   @db.VarChar(255)
  disk              String    @db.VarChar(255)
  size              BigInt    @db.UnsignedBigInt
  manipulations     Json
  custom_properties Json
  responsive_images Json
  order_column      Int?      @db.UnsignedInt
  created_at        DateTime? @db.Timestamp(0)
  updated_at        DateTime? @db.Timestamp(0)

  @@index([model_type, model_id], map: "media_model_type_model_id_index")
}

model notifications {
  id              String    @id @db.Char(36)
  type            String    @db.VarChar(255)
  notifiable_type String    @db.VarChar(255)
  notifiable_id   BigInt    @db.UnsignedBigInt
  data            String    @db.Text
  read_at         DateTime? @db.Timestamp(0)
  created_at      DateTime? @db.Timestamp(0)
  updated_at      DateTime? @db.Timestamp(0)
  deleted_at      DateTime? @db.Timestamp(0)

  @@index([notifiable_type, notifiable_id], map: "notifications_notifiable_type_notifiable_id_index")
}

model oa_access_tokens {
  access_token String     @id @db.VarChar(40)
  client_id    String     @db.VarChar(80)
  user_id      BigInt     @db.UnsignedBigInt
  expires      DateTime?  @db.Timestamp(0)
  scope        String?    @db.VarChar(2000)
  updated_at   DateTime   @default(now()) @db.Timestamp(0)
  created_at   DateTime   @default(now()) @db.Timestamp(0)
  deleted_at   DateTime?  @db.Timestamp(0)
  oa_clients   oa_clients @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "access_tokens_client_id_fk")
  wp_users     wp_users   @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "bshaffer_oauth_access_tokens_user_id_fk")

  @@index([client_id], map: "access_tokens_client_id_fk")
  @@index([user_id], map: "bshaffer_oauth_access_tokens_user_id_fk")
}

model oa_authorization_codes {
  authorization_code String     @id @db.VarChar(40)
  client_id          String     @db.VarChar(80)
  user_id            BigInt     @db.UnsignedBigInt
  redirect_uri       String?    @db.VarChar(2000)
  expires            DateTime?  @db.Timestamp(0)
  scope              String?    @db.VarChar(2000)
  updated_at         DateTime   @default(now()) @db.Timestamp(0)
  created_at         DateTime   @default(now()) @db.Timestamp(0)
  deleted_at         DateTime?  @db.Timestamp(0)
  oa_clients         oa_clients @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "bshaffer_oauth_authorization_codes_client_id_fk")
  wp_users           wp_users   @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "bshaffer_oauth_authorization_codes_user_id_fk")

  @@index([client_id], map: "bshaffer_oauth_authorization_codes_client_id_fk")
  @@index([user_id], map: "bshaffer_oauth_authorization_codes_user_id_fk")
}

model oa_clients {
  client_id                                 String                            @id @db.VarChar(80)
  client_secret                             String                            @db.VarChar(80)
  redirect_uri                              String?                           @db.VarChar(2000)
  grant_types                               String?                           @db.VarChar(80)
  user_id                                   BigInt                            @db.UnsignedBigInt
  created_at                                DateTime                          @default(now()) @db.Timestamp(0)
  updated_at                                DateTime                          @default(now()) @db.Timestamp(0)
  icon_url                                  String?                           @db.VarChar(2083)
  app_identifier                            String?                           @db.VarChar(255)
  deleted_at                                DateTime?                         @db.Timestamp(0)
  earliest_measurement_start_at             DateTime?                         @db.Timestamp(0)
  latest_measurement_start_at               DateTime?                         @db.Timestamp(0)
  number_of_aggregate_correlations          Int?                              @db.UnsignedInt
  number_of_applications                    Int?                              @db.UnsignedInt
  number_of_oauth_access_tokens             Int?                              @db.UnsignedInt
  number_of_oauth_authorization_codes       Int?                              @db.UnsignedInt
  number_of_oauth_refresh_tokens            Int?                              @db.UnsignedInt
  number_of_button_clicks                   Int?                              @db.UnsignedInt
  number_of_collaborators                   Int?                              @db.UnsignedInt
  number_of_common_tags                     Int?                              @db.UnsignedInt
  number_of_connections                     Int?                              @db.UnsignedInt
  number_of_connector_imports               Int?                              @db.UnsignedInt
  number_of_connectors                      Int?                              @db.UnsignedInt
  number_of_correlations                    Int?                              @db.UnsignedInt
  number_of_measurement_exports             Int?                              @db.UnsignedInt
  number_of_measurement_imports             Int?                              @db.UnsignedInt
  number_of_measurements                    Int?                              @db.UnsignedInt
  number_of_sent_emails                     Int?                              @db.UnsignedInt
  number_of_studies                         Int?                              @db.UnsignedInt
  number_of_tracking_reminder_notifications Int?                              @db.UnsignedInt
  number_of_tracking_reminders              Int?                              @db.UnsignedInt
  number_of_user_tags                       Int?                              @db.UnsignedInt
  number_of_user_variables                  Int?                              @db.UnsignedInt
  number_of_variables                       Int?                              @db.UnsignedInt
  number_of_votes                           Int?                              @db.UnsignedInt
  wp_users                                  wp_users                          @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "bshaffer_oauth_clients_user_id_fk")
  aggregate_correlations                    aggregate_correlations[]
  applications                              applications?
  button_clicks                             button_clicks[]
  buttons                                   buttons[]
  cards                                     cards[]
  cohort_studies                            cohort_studies[]
  cohort_study_statistics                   cohort_study_statistics[]
  collaborators                             collaborators[]
  common_tags                               common_tags[]
  connections                               connections[]
  connector_imports                         connector_imports[]
  connectors                                connectors[]
  correlation_causality_votes               correlation_causality_votes[]
  correlation_usefulness_votes              correlation_usefulness_votes[]
  correlations                              correlations[]
  credentials                               credentials[]
  device_tokens                             device_tokens[]
  github_repositories                       github_repositories[]
  global_studies                            global_studies[]
  measurement_exports                       measurement_exports[]
  measurement_imports                       measurement_imports[]
  measurements                              measurements[]
  oa_access_tokens                          oa_access_tokens[]
  oa_authorization_codes                    oa_authorization_codes[]
  oa_refresh_tokens                         oa_refresh_tokens[]
  phrases                                   phrases[]
  purchases                                 purchases[]
  sent_emails                               sent_emails[]
  source_platforms                          source_platforms[]
  spreadsheet_importers                     spreadsheet_importers[]
  studies                                   studies[]
  third_party_correlations                  third_party_correlations[]
  tracker_log                               tracker_log[]
  tracker_sessions                          tracker_sessions[]
  tracking_reminder_notifications           tracking_reminder_notifications[]
  tracking_reminders                        tracking_reminders[]
  user_clients                              user_clients[]
  user_tags                                 user_tags[]
  user_variable_clients                     user_variable_clients[]
  user_variables                            user_variables[]
  variable_user_sources                     variable_user_sources[]
  variables                                 variables[]
  votes                                     votes[]

  @@index([user_id], map: "bshaffer_oauth_clients_user_id_fk")
}

model oa_refresh_tokens {
  refresh_token String     @id @db.VarChar(40)
  client_id     String     @db.VarChar(80)
  user_id       BigInt     @db.UnsignedBigInt
  expires       DateTime?  @db.Timestamp(0)
  scope         String?    @db.VarChar(2000)
  updated_at    DateTime   @default(now()) @db.Timestamp(0)
  created_at    DateTime   @default(now()) @db.Timestamp(0)
  deleted_at    DateTime?  @db.Timestamp(0)
  oa_clients    oa_clients @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "bshaffer_oauth_refresh_tokens_client_id_fk")
  wp_users      wp_users   @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "bshaffer_oauth_refresh_tokens_user_id_fk")

  @@index([user_id], map: "bshaffer_oauth_refresh_tokens_user_id_fk")
  @@index([client_id], map: "refresh_tokens_client_id_fk")
}

model oauth_access_tokens {
  id         String    @id @db.VarChar(100)
  user_id    BigInt?
  client_id  Int       @db.UnsignedInt
  name       String?   @db.VarChar(255)
  scopes     String?   @db.Text
  revoked    Boolean
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  expires_at DateTime? @db.DateTime(0)

  @@index([user_id], map: "oauth_access_tokens_user_id_index")
}

model oauth_auth_codes {
  id         String    @id @db.VarChar(100)
  user_id    BigInt
  client_id  Int       @db.UnsignedInt
  scopes     String?   @db.Text
  revoked    Boolean
  expires_at DateTime? @db.DateTime(0)
}

model oauth_clients {
  id                     Int       @id @default(autoincrement()) @db.UnsignedInt
  user_id                BigInt?
  name                   String    @db.VarChar(255)
  secret                 String    @db.VarChar(100)
  redirect               String    @db.Text
  personal_access_client Boolean
  password_client        Boolean
  revoked                Boolean
  created_at             DateTime? @db.Timestamp(0)
  updated_at             DateTime? @db.Timestamp(0)

  @@index([user_id], map: "oauth_clients_user_id_index")
}

model oauth_personal_access_clients {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  client_id  Int       @db.UnsignedInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)

  @@index([client_id], map: "oauth_personal_access_clients_client_id_index")
}

model oauth_refresh_tokens {
  id              String    @id @db.VarChar(100)
  access_token_id String    @db.VarChar(100)
  revoked         Boolean
  expires_at      DateTime? @db.DateTime(0)

  @@index([access_token_id], map: "oauth_refresh_tokens_access_token_id_index")
}

model patient_physicians {
  id                                                      Int       @id @default(autoincrement()) @db.UnsignedInt
  patient_user_id                                         BigInt    @db.UnsignedBigInt
  physician_user_id                                       BigInt    @db.UnsignedBigInt
  scopes                                                  String    @db.VarChar(2000)
  created_at                                              DateTime  @default(now()) @db.Timestamp(0)
  updated_at                                              DateTime  @default(now()) @db.Timestamp(0)
  deleted_at                                              DateTime? @db.Timestamp(0)
  wp_users_patient_physicians_patient_user_idTowp_users   wp_users  @relation("patient_physicians_patient_user_idTowp_users", fields: [patient_user_id], references: [ID], onUpdate: Restrict, map: "patient_physicians_wp_users_ID_fk")
  wp_users_patient_physicians_physician_user_idTowp_users wp_users  @relation("patient_physicians_physician_user_idTowp_users", fields: [physician_user_id], references: [ID], onUpdate: Restrict, map: "patient_physicians_wp_users_ID_fk_2")

  @@unique([patient_user_id, physician_user_id], map: "patients_patient_user_id_physician_user_id_uindex")
  @@index([physician_user_id], map: "patient_physicians_wp_users_ID_fk_2")
}

model permission_role {
  id            Int         @id @default(autoincrement()) @db.UnsignedInt
  permission_id Int         @db.UnsignedInt
  role_id       Int         @db.UnsignedInt
  created_at    DateTime?   @db.Timestamp(0)
  updated_at    DateTime?   @db.Timestamp(0)
  deleted_at    DateTime?   @db.Timestamp(0)
  permissions   permissions @relation(fields: [permission_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "permission_role_permission_id_foreign")
  roles         roles       @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "permission_role_role_id_foreign")

  @@index([permission_id], map: "permission_role_permission_id_index")
  @@index([role_id], map: "permission_role_role_id_index")
}

model permission_user {
  id            Int         @id @default(autoincrement()) @db.UnsignedInt
  permission_id Int         @db.UnsignedInt
  user_id       BigInt      @db.UnsignedBigInt
  created_at    DateTime?   @db.Timestamp(0)
  updated_at    DateTime?   @db.Timestamp(0)
  deleted_at    DateTime?   @db.Timestamp(0)
  permissions   permissions @relation(fields: [permission_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "permission_user_permission_id_foreign")
  wp_users      wp_users    @relation(fields: [user_id], references: [ID], onDelete: Cascade, onUpdate: Restrict, map: "permission_user_user_id_foreign")

  @@index([permission_id], map: "permission_user_permission_id_index")
  @@index([user_id], map: "permission_user_user_id_index")
}

model permissions {
  id              Int               @id @default(autoincrement()) @db.UnsignedInt
  name            String            @db.VarChar(255)
  slug            String            @unique(map: "permissions_slug_unique") @db.VarChar(255)
  description     String?           @db.VarChar(255)
  model           String?           @db.VarChar(255)
  created_at      DateTime?         @db.Timestamp(0)
  updated_at      DateTime?         @db.Timestamp(0)
  deleted_at      DateTime?         @db.Timestamp(0)
  permission_role permission_role[]
  permission_user permission_user[]
}

model phrases {
  client_id                 String     @db.VarChar(80)
  created_at                DateTime   @default(now()) @db.Timestamp(0)
  deleted_at                DateTime?  @db.Timestamp(0)
  id                        Int        @id @default(autoincrement())
  image                     String?    @db.VarChar(100)
  text                      String     @db.Text
  title                     String?    @db.VarChar(80)
  type                      String     @db.VarChar(80)
  updated_at                DateTime   @default(now()) @db.Timestamp(0)
  url                       String?    @db.VarChar(100)
  user_id                   BigInt     @db.UnsignedBigInt
  responding_to_phrase_id   Int?
  response_phrase_id        Int?
  recipient_user_ids        String?    @db.Text
  number_of_times_heard     Int?
  interpretative_confidence Float?
  oa_clients                oa_clients @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "phrases_client_id_fk")
  wp_users                  wp_users   @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "phrases_user_id_fk")

  @@index([client_id], map: "phrases_client_id_fk")
  @@index([user_id], map: "phrases_user_id_fk")
}

model purchases {
  id                                   BigInt                          @id @default(autoincrement()) @db.UnsignedBigInt
  subscriber_user_id                   BigInt                          @db.UnsignedBigInt
  referrer_user_id                     BigInt?                         @db.UnsignedBigInt
  updated_at                           DateTime                        @default(now()) @db.Timestamp(0)
  created_at                           DateTime                        @default(now()) @db.Timestamp(0)
  subscription_provider                purchases_subscription_provider
  last_four                            String?                         @db.VarChar(4)
  product_id                           String                          @db.VarChar(100)
  subscription_provider_transaction_id String?                         @db.VarChar(100)
  coupon                               String?                         @db.VarChar(100)
  client_id                            String?                         @db.VarChar(80)
  refunded_at                          DateTime?                       @db.Date
  deleted_at                           DateTime?                       @db.Timestamp(0)
  oa_clients                           oa_clients?                     @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "purchases_client_id_fk")
  wp_users                             wp_users                        @relation(fields: [subscriber_user_id], references: [ID], onUpdate: Restrict, map: "purchases_wp_users_ID_fk")

  @@unique([subscriber_user_id, referrer_user_id], map: "subscriber_referrer")
  @@index([client_id], map: "purchases_client_id_fk")
}

model role_user {
  id         Int       @id @default(autoincrement()) @db.UnsignedInt
  role_id    Int       @db.UnsignedInt
  user_id    BigInt    @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  deleted_at DateTime? @db.Timestamp(0)
  roles      roles     @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "role_user_role_id_foreign")
  wp_users   wp_users  @relation(fields: [user_id], references: [ID], onDelete: Cascade, onUpdate: Restrict, map: "role_user_user_id_foreign")

  @@index([role_id], map: "role_user_role_id_index")
  @@index([user_id], map: "role_user_user_id_index")
}

model roles {
  id              Int               @id @default(autoincrement()) @db.UnsignedInt
  name            String            @db.VarChar(255)
  slug            String            @unique(map: "roles_slug_unique") @db.VarChar(255)
  description     String?           @db.VarChar(255)
  level           Int               @default(1)
  created_at      DateTime?         @db.Timestamp(0)
  updated_at      DateTime?         @db.Timestamp(0)
  deleted_at      DateTime?         @db.Timestamp(0)
  permission_role permission_role[]
  role_user       role_user[]
}

model schedule_histories {
  id          Int       @id @default(autoincrement()) @db.UnsignedInt
  schedule_id Int       @db.UnsignedInt
  command     String    @db.VarChar(255)
  params      String?   @db.Text
  output      String    @db.Text
  options     String?   @db.Text
  created_at  DateTime? @db.Timestamp(0)
  updated_at  DateTime? @db.Timestamp(0)
  schedules   schedules @relation(fields: [schedule_id], references: [id], onUpdate: Restrict, map: "schedule_histories_schedule_id_foreign")

  @@index([schedule_id], map: "schedule_histories_schedule_id_foreign")
}

model schedules {
  id                       Int                  @id @default(autoincrement()) @db.UnsignedInt
  command                  String               @db.VarChar(255)
  command_custom           String?              @db.VarChar(255)
  params                   String?              @db.Text
  expression               String               @db.VarChar(255)
  options                  String?              @db.Text
  even_in_maintenance_mode Boolean              @default(false)
  without_overlapping      Boolean              @default(false)
  on_one_server            Boolean              @default(false)
  webhook_before           String?              @db.VarChar(255)
  webhook_after            String?              @db.VarChar(255)
  email_output             String?              @db.VarChar(255)
  sendmail_error           Boolean              @default(false)
  status                   Boolean              @default(true)
  run_in_background        Boolean              @default(false)
  created_at               DateTime?            @db.Timestamp(0)
  updated_at               DateTime?            @db.Timestamp(0)
  deleted_at               DateTime?            @db.Timestamp(0)
  sendmail_success         Boolean              @default(false)
  schedule_histories       schedule_histories[]
}

model sent_emails {
  id            Int         @id @default(autoincrement()) @db.UnsignedInt
  user_id       BigInt?     @db.UnsignedBigInt
  type          String      @db.VarChar(100)
  created_at    DateTime    @default(now()) @db.Timestamp(0)
  updated_at    DateTime    @default(now()) @db.Timestamp(0)
  deleted_at    DateTime?   @db.Timestamp(0)
  client_id     String?     @db.VarChar(255)
  slug          String?     @db.VarChar(100)
  response      String?     @db.VarChar(140)
  content       String?     @db.Text
  wp_post_id    BigInt?     @db.UnsignedBigInt
  email_address String?     @db.VarChar(255)
  subject       String      @db.VarChar(78)
  oa_clients    oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "sent_emails_client_id_fk")
  wp_users      wp_users?   @relation(fields: [user_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "sent_emails_user_id_fk")
  wp_posts      wp_posts?   @relation(fields: [wp_post_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "sent_emails_wp_posts_ID_fk")

  @@index([client_id], map: "sent_emails_client_id_fk")
  @@index([user_id, type], map: "sent_emails_user_id_type_index")
  @@index([wp_post_id], map: "sent_emails_wp_posts_ID_fk")
}

model sessions {
  id            String  @unique(map: "sessions_id_unique") @db.VarChar(255)
  user_id       BigInt? @db.UnsignedBigInt
  ip_address    String? @db.VarChar(45)
  user_agent    String? @db.Text
  payload       String  @db.Text
  last_activity Int
}

model sharer_trustees {
  id                                                 Int                               @id @default(autoincrement()) @db.UnsignedInt
  sharer_user_id                                     BigInt                            @db.UnsignedBigInt
  trustee_user_id                                    BigInt                            @db.UnsignedBigInt
  scopes                                             String                            @db.VarChar(2000)
  relationship_type                                  sharer_trustees_relationship_type
  created_at                                         DateTime                          @default(now()) @db.Timestamp(0)
  updated_at                                         DateTime                          @default(now()) @db.Timestamp(0)
  deleted_at                                         DateTime?                         @db.Timestamp(0)
  wp_users_sharer_trustees_sharer_user_idTowp_users  wp_users                          @relation("sharer_trustees_sharer_user_idTowp_users", fields: [sharer_user_id], references: [ID], onUpdate: Restrict, map: "sharer_trustees_wp_users_ID_fk")
  wp_users_sharer_trustees_trustee_user_idTowp_users wp_users                          @relation("sharer_trustees_trustee_user_idTowp_users", fields: [trustee_user_id], references: [ID], onUpdate: Restrict, map: "sharer_trustees_wp_users_ID_fk_2")

  @@unique([sharer_user_id, trustee_user_id], map: "sharer_user_id_trustee_user_id_uindex")
  @@index([trustee_user_id], map: "sharer_trustees_wp_users_ID_fk_2")
}

model source_platforms {
  id         Int         @id @default(autoincrement()) @db.SmallInt
  name       String      @db.VarChar(32)
  created_at DateTime    @default(now()) @db.Timestamp(0)
  updated_at DateTime    @default(now()) @db.Timestamp(0)
  deleted_at DateTime?   @db.Timestamp(0)
  client_id  String?     @db.VarChar(255)
  oa_clients oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "source_platforms_client_id_fk")

  @@index([client_id], map: "source_platforms_client_id_fk")
}

model spreadsheet_importers {
  id                            Int         @id @default(autoincrement()) @db.UnsignedInt
  name                          String      @db.VarChar(30)
  display_name                  String      @db.VarChar(30)
  image                         String      @db.VarChar(2083)
  get_it_url                    String?     @db.VarChar(2083)
  short_description             String      @db.Text
  long_description              String      @db.LongText
  enabled                       Boolean     @default(true)
  created_at                    DateTime    @default(now()) @db.Timestamp(0)
  updated_at                    DateTime    @default(now()) @db.Timestamp(0)
  client_id                     String?     @db.VarChar(80)
  deleted_at                    DateTime?   @db.Timestamp(0)
  wp_post_id                    BigInt?     @db.UnsignedBigInt
  number_of_measurement_imports Int?        @db.UnsignedInt
  number_of_measurements        Int?        @db.UnsignedInt
  sort_order                    Int
  oa_clients                    oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "spreadsheet_importers_client_id_fk")
  wp_posts                      wp_posts?   @relation(fields: [wp_post_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "spreadsheet_importers_wp_posts_ID_fk")

  @@index([client_id], map: "spreadsheet_importers_client_id_fk")
  @@index([wp_post_id], map: "spreadsheet_importers_wp_posts_ID_fk")
}

model studies {
  id                                              String      @id @db.VarChar(80)
  type                                            String      @db.VarChar(20)
  cause_variable_id                               Int         @db.UnsignedInt
  effect_variable_id                              Int         @db.UnsignedInt
  user_id                                         BigInt      @db.UnsignedBigInt
  created_at                                      DateTime    @default(now()) @db.Timestamp(0)
  deleted_at                                      DateTime?   @db.Timestamp(0)
  analysis_parameters                             String?     @db.Text
  user_study_text                                 String?     @db.LongText
  user_title                                      String?     @db.Text
  study_status                                    String      @default("publish") @db.VarChar(20)
  comment_status                                  String      @default("open") @db.VarChar(20)
  study_password                                  String?     @db.VarChar(20)
  study_images                                    String?     @db.Text
  updated_at                                      DateTime    @default(now()) @db.Timestamp(0)
  client_id                                       String?     @db.VarChar(255)
  published_at                                    DateTime?   @db.Timestamp(0)
  wp_post_id                                      Int?
  newest_data_at                                  DateTime?   @db.Timestamp(0)
  analysis_requested_at                           DateTime?   @db.Timestamp(0)
  reason_for_analysis                             String?     @db.VarChar(255)
  analysis_ended_at                               DateTime?   @db.Timestamp(0)
  analysis_started_at                             DateTime?   @db.Timestamp(0)
  internal_error_message                          String?     @db.VarChar(255)
  user_error_message                              String?     @db.VarChar(255)
  status                                          String?     @db.VarChar(25)
  analysis_settings_modified_at                   DateTime?   @db.Timestamp(0)
  is_public                                       Boolean
  sort_order                                      Int
  slug                                            String?     @unique(map: "studies_slug_uindex") @db.VarChar(200)
  variables_studies_cause_variable_idTovariables  variables   @relation("studies_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "studies_cause_variable_id_variables_id_fk")
  oa_clients                                      oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "studies_client_id_fk")
  variables_studies_effect_variable_idTovariables variables   @relation("studies_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "studies_effect_variable_id_variables_id_fk")
  wp_users                                        wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "studies_user_id_fk")

  @@unique([user_id, cause_variable_id, effect_variable_id, type], map: "user_cause_effect_type")
  @@index([cause_variable_id], map: "cause_variable_id")
  @@index([effect_variable_id], map: "effect_variable_id")
  @@index([client_id], map: "studies_client_id_fk")
}

model subscriptions {
  id            Int       @id @default(autoincrement()) @db.UnsignedInt
  user_id       BigInt    @db.UnsignedBigInt
  name          String    @db.VarChar(255)
  stripe_id     String    @db.VarChar(255)
  stripe_plan   String    @db.VarChar(255)
  quantity      Int
  trial_ends_at DateTime? @db.Timestamp(0)
  ends_at       DateTime? @db.Timestamp(0)
  created_at    DateTime? @db.Timestamp(0)
  updated_at    DateTime? @db.Timestamp(0)
  wp_users      wp_users  @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "subscriptions_user_id_fk")

  @@index([user_id], map: "subscriptions_user_id_fk")
}

model taggables {
  tag_id        Int    @db.UnsignedInt
  taggable_type String @db.VarChar(255)
  taggable_id   BigInt @db.UnsignedBigInt
  tags          tags   @relation(fields: [tag_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "taggables_tag_id_foreign")

  @@unique([tag_id, taggable_id, taggable_type], map: "taggables_tag_id_taggable_id_taggable_type_unique")
  @@index([taggable_type, taggable_id], map: "taggables_taggable_type_taggable_id_index")
}

model tags {
  id           Int         @id @default(autoincrement()) @db.UnsignedInt
  name         Json
  slug         Json
  type         String?     @db.VarChar(255)
  order_column Int?
  created_at   DateTime?   @db.Timestamp(0)
  updated_at   DateTime?   @db.Timestamp(0)
  taggables    taggables[]
}

model third_party_correlations {
  cause_id                                                                                      Int                  @db.UnsignedInt
  effect_id                                                                                     Int                  @db.UnsignedInt
  qm_score                                                                                      Float?
  forward_pearson_correlation_coefficient                                                       Float?               @db.Float
  value_predicting_high_outcome                                                                 Float?
  value_predicting_low_outcome                                                                  Float?
  predicts_high_effect_change                                                                   Int?
  predicts_low_effect_change                                                                    Int?
  average_effect                                                                                Float?
  average_effect_following_high_cause                                                           Float?
  average_effect_following_low_cause                                                            Float?
  average_daily_low_cause                                                                       Float?
  average_daily_high_cause                                                                      Float?
  average_forward_pearson_correlation_over_onset_delays                                         Float?               @db.Float
  average_reverse_pearson_correlation_over_onset_delays                                         Float?               @db.Float
  cause_changes                                                                                 Int?
  cause_filling_value                                                                           Float?
  cause_number_of_processed_daily_measurements                                                  Int
  cause_number_of_raw_measurements                                                              Int
  cause_unit_id                                                                                 Int?
  confidence_interval                                                                           Float?
  critical_t_value                                                                              Float?
  created_at                                                                                    DateTime             @default(now()) @db.Timestamp(0)
  data_source_name                                                                              String?              @db.VarChar(255)
  deleted_at                                                                                    DateTime?            @db.Timestamp(0)
  duration_of_action                                                                            Int?
  effect_changes                                                                                Int?
  effect_filling_value                                                                          Float?
  effect_number_of_processed_daily_measurements                                                 Int
  effect_number_of_raw_measurements                                                             Int
  error                                                                                         String?              @db.Text
  forward_spearman_correlation_coefficient                                                      Float?               @db.Float
  id                                                                                            Int                  @id @default(autoincrement())
  number_of_days                                                                                Int
  number_of_pairs                                                                               Int?
  onset_delay                                                                                   Int?
  onset_delay_with_strongest_pearson_correlation                                                Int?
  optimal_pearson_product                                                                       Float?
  p_value                                                                                       Float?
  pearson_correlation_with_no_onset_delay                                                       Float?               @db.Float
  predictive_pearson_correlation_coefficient                                                    Float?
  reverse_pearson_correlation_coefficient                                                       Float?
  statistical_significance                                                                      Float?               @db.Float
  strongest_pearson_correlation_coefficient                                                     Float?               @db.Float
  t_value                                                                                       Float?
  updated_at                                                                                    DateTime             @default(now()) @db.Timestamp(0)
  user_id                                                                                       BigInt               @db.UnsignedBigInt
  grouped_cause_value_closest_to_value_predicting_low_outcome                                   Float?
  grouped_cause_value_closest_to_value_predicting_high_outcome                                  Float?
  client_id                                                                                     String?              @db.VarChar(255)
  published_at                                                                                  DateTime?            @db.Timestamp(0)
  wp_post_id                                                                                    Int?
  status                                                                                        String?              @db.VarChar(25)
  cause_variable_category_id                                                                    Int?                 @db.UnsignedTinyInt
  effect_variable_category_id                                                                   Int?                 @db.UnsignedTinyInt
  interesting_variable_category_pair                                                            Boolean?
  cause_variable_id                                                                             Int?                 @db.UnsignedInt
  effect_variable_id                                                                            Int?                 @db.UnsignedInt
  variable_categories_third_party_correlations_cause_variable_category_idTovariable_categories  variable_categories? @relation("third_party_correlations_cause_variable_category_idTovariable_categories", fields: [cause_variable_category_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "third_party_correlations_cause_variable_category_id_fk")
  variables_third_party_correlations_cause_idTovariables                                        variables            @relation("third_party_correlations_cause_idTovariables", fields: [cause_id], references: [id], onUpdate: Restrict, map: "third_party_correlations_cause_variables_id_fk")
  oa_clients                                                                                    oa_clients?          @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "third_party_correlations_client_id_fk")
  variable_categories_third_party_correlations_effect_variable_category_idTovariable_categories variable_categories? @relation("third_party_correlations_effect_variable_category_idTovariable_categories", fields: [effect_variable_category_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "third_party_correlations_effect_variable_category_id_fk")
  variables_third_party_correlations_effect_idTovariables                                       variables            @relation("third_party_correlations_effect_idTovariables", fields: [effect_id], references: [id], onUpdate: Restrict, map: "third_party_correlations_effect_variables_id_fk")

  @@unique([user_id, cause_id, effect_id], map: "user_cause_effect")
  @@index([cause_id], map: "cause")
  @@index([effect_id], map: "effect")
  @@index([cause_variable_category_id], map: "third_party_correlations_cause_variable_category_id_fk")
  @@index([client_id], map: "third_party_correlations_client_id_fk")
  @@index([effect_variable_category_id], map: "third_party_correlations_effect_variable_category_id_fk")
}

model tracker_log {
  id            BigInt      @id @default(autoincrement()) @db.UnsignedBigInt
  session_id    BigInt?     @db.UnsignedBigInt
  path_id       BigInt?     @db.UnsignedBigInt
  query_id      BigInt?     @db.UnsignedBigInt
  method        String      @db.VarChar(10)
  route_path_id BigInt?     @db.UnsignedBigInt
  is_ajax       Boolean
  is_secure     Boolean
  is_json       Boolean
  wants_json    Boolean
  error_id      BigInt?     @db.UnsignedBigInt
  created_at    DateTime    @default(now()) @db.Timestamp(0)
  updated_at    DateTime    @default(now()) @db.Timestamp(0)
  client_id     String?     @db.VarChar(255)
  user_id       BigInt      @db.UnsignedBigInt
  deleted_at    DateTime?   @db.Timestamp(0)
  oa_clients    oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "tracker_log_client_id_fk")
  wp_users      wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "tracker_log_user_id_fk")

  @@index([client_id], map: "tracker_log_client_id_fk")
  @@index([created_at], map: "tracker_log_created_at_index")
  @@index([error_id], map: "tracker_log_error_id_index")
  @@index([method], map: "tracker_log_method_index")
  @@index([path_id], map: "tracker_log_path_id_index")
  @@index([query_id], map: "tracker_log_query_id_index")
  @@index([route_path_id], map: "tracker_log_route_path_id_index")
  @@index([session_id], map: "tracker_log_session_id_index")
  @@index([updated_at], map: "tracker_log_updated_at_index")
  @@index([user_id], map: "tracker_log_user_id_fk")
}

model tracker_sessions {
  id         BigInt      @id @default(autoincrement()) @db.UnsignedBigInt
  uuid       String      @unique(map: "tracker_sessions_uuid_unique") @db.VarChar(255)
  user_id    BigInt      @db.UnsignedBigInt
  device_id  BigInt?     @db.UnsignedBigInt
  agent_id   BigInt?     @db.UnsignedBigInt
  client_ip  String      @db.VarChar(255)
  referer_id BigInt?     @db.UnsignedBigInt
  cookie_id  BigInt?     @db.UnsignedBigInt
  geoip_id   BigInt?     @db.UnsignedBigInt
  is_robot   Boolean
  created_at DateTime    @default(now()) @db.Timestamp(0)
  updated_at DateTime    @default(now()) @db.Timestamp(0)
  deleted_at DateTime?   @db.Timestamp(0)
  client_id  String?     @db.VarChar(255)
  oa_clients oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "tracker_sessions_client_id_fk")
  wp_users   wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "tracker_sessions_user_id_fk")

  @@index([agent_id], map: "tracker_sessions_agent_id_index")
  @@index([client_id], map: "tracker_sessions_client_id_fk")
  @@index([client_ip], map: "tracker_sessions_client_ip_index")
  @@index([cookie_id], map: "tracker_sessions_cookie_id_index")
  @@index([created_at], map: "tracker_sessions_created_at_index")
  @@index([device_id], map: "tracker_sessions_device_id_index")
  @@index([geoip_id], map: "tracker_sessions_geoip_id_index")
  @@index([referer_id], map: "tracker_sessions_referer_id_index")
  @@index([updated_at], map: "tracker_sessions_updated_at_index")
  @@index([user_id], map: "tracker_sessions_user_id_index")
}

model tracking_reminder_notifications {
  id                   Int                @id @default(autoincrement()) @db.UnsignedInt
  tracking_reminder_id Int                @db.UnsignedInt
  created_at           DateTime           @default(now()) @db.Timestamp(0)
  updated_at           DateTime           @default(now()) @db.Timestamp(0)
  deleted_at           DateTime?          @db.Timestamp(0)
  user_id              BigInt             @db.UnsignedBigInt
  notified_at          DateTime?          @db.Timestamp(0)
  received_at          DateTime?          @db.Timestamp(0)
  client_id            String?            @db.VarChar(255)
  variable_id          Int                @db.UnsignedInt
  notify_at            DateTime           @default(dbgenerated("'0000-00-00 00:00:00'")) @db.Timestamp(0)
  user_variable_id     Int                @db.UnsignedInt
  oa_clients           oa_clients?        @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "tracking_reminder_notifications_client_id_fk")
  tracking_reminders   tracking_reminders @relation(fields: [tracking_reminder_id], references: [id], onDelete: Cascade, map: "tracking_reminder_notifications_tracking_reminders_id_fk")
  wp_users             wp_users           @relation(fields: [user_id], references: [ID], onDelete: Cascade, onUpdate: Restrict, map: "tracking_reminder_notifications_user_id_fk")
  user_variables       user_variables     @relation(fields: [user_variable_id], references: [id], onDelete: Cascade, map: "tracking_reminder_notifications_user_variables_id_fk")
  variables            variables          @relation(fields: [variable_id], references: [id], onDelete: Cascade, map: "tracking_reminder_notifications_variables_id_fk")

  @@unique([notify_at, tracking_reminder_id], map: "notify_at_tracking_reminder_id_uindex")
  @@index([client_id], map: "tracking_reminder_notifications_client_id_fk")
  @@index([tracking_reminder_id], map: "tracking_reminder_notifications_tracking_reminders_id_fk")
  @@index([user_id], map: "tracking_reminder_notifications_user_id_fk")
  @@index([user_variable_id], map: "tracking_reminder_notifications_user_variables_id_fk")
  @@index([variable_id], map: "tracking_reminder_notifications_variables_id_fk")
}

model tracking_reminders {
  id                                                                    Int                               @id @default(autoincrement()) @db.UnsignedInt
  user_id                                                               BigInt                            @db.UnsignedBigInt
  client_id                                                             String                            @db.VarChar(80)
  variable_id                                                           Int                               @db.UnsignedInt
  default_value                                                         Float?
  reminder_start_time                                                   DateTime                          @default(dbgenerated("'00:00:00'")) @db.Time(0)
  reminder_end_time                                                     DateTime?                         @db.Time(0)
  reminder_sound                                                        String?                           @db.VarChar(125)
  reminder_frequency                                                    Int?
  pop_up                                                                Boolean?
  sms                                                                   Boolean?
  email                                                                 Boolean?
  notification_bar                                                      Boolean?
  last_tracked                                                          DateTime?                         @db.Timestamp(0)
  created_at                                                            DateTime                          @default(now()) @db.Timestamp(0)
  updated_at                                                            DateTime                          @default(now()) @db.Timestamp(0)
  start_tracking_date                                                   DateTime?                         @db.Date
  stop_tracking_date                                                    DateTime?                         @db.Date
  instructions                                                          String?                           @db.Text
  deleted_at                                                            DateTime?                         @db.Timestamp(0)
  image_url                                                             String?                           @db.VarChar(2083)
  user_variable_id                                                      Int                               @db.UnsignedInt
  latest_tracking_reminder_notification_notify_at                       DateTime?                         @db.Timestamp(0)
  number_of_tracking_reminder_notifications                             Int?                              @db.UnsignedInt
  oa_clients                                                            oa_clients                        @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "tracking_reminders_client_id_fk")
  wp_users                                                              wp_users                          @relation(fields: [user_id], references: [ID], onDelete: Cascade, map: "tracking_reminders_user_id_fk")
  user_variables_tracking_reminders_user_id_variable_idTouser_variables user_variables                    @relation("tracking_reminders_user_id_variable_idTouser_variables", fields: [user_id, variable_id], references: [user_id, variable_id], onUpdate: Restrict, map: "tracking_reminders_user_variables_user_id_variable_id_fk")
  user_variables_tracking_reminders_user_variable_idTouser_variables    user_variables                    @relation("tracking_reminders_user_variable_idTouser_variables", fields: [user_variable_id], references: [id], onDelete: Cascade, map: "tracking_reminders_user_variables_user_variable_id_fk")
  variables                                                             variables                         @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "tracking_reminders_variables_id_fk")
  tracking_reminder_notifications                                       tracking_reminder_notifications[]

  @@unique([user_id, variable_id, reminder_start_time, reminder_frequency], map: "UK_user_var_time_freq")
  @@index([client_id], map: "tracking_reminders_client_id_fk")
  @@index([user_variable_id], map: "tracking_reminders_user_variables_user_variable_id_fk")
  @@index([variable_id, user_id], map: "tracking_reminders_user_variables_variable_id_user_id_fk")
  @@index([user_id, client_id], map: "user_client")
}

model unit_categories {
  id            Int       @id @default(autoincrement()) @db.UnsignedTinyInt
  name          String    @db.VarChar(64)
  created_at    DateTime  @default(now()) @db.Timestamp(0)
  updated_at    DateTime  @default(now()) @db.Timestamp(0)
  can_be_summed Boolean   @default(true)
  deleted_at    DateTime? @db.Timestamp(0)
  sort_order    Int
}

model unit_conversions {
  unit_id     Int       @db.UnsignedInt
  step_number Int       @db.UnsignedTinyInt
  operation   Int       @db.UnsignedTinyInt
  value       Float
  created_at  DateTime  @default(now()) @db.Timestamp(0)
  updated_at  DateTime  @default(now()) @db.Timestamp(0)
  deleted_at  DateTime? @db.Timestamp(0)

  @@id([unit_id, step_number])
}

model units {
  id                                                     Int                       @id @default(autoincrement()) @db.UnsignedSmallInt
  name                                                   String                    @unique(map: "name_UNIQUE") @db.VarChar(64)
  abbreviated_name                                       String                    @unique(map: "abbr_name_UNIQUE") @db.VarChar(16)
  unit_category_id                                       Int                       @db.UnsignedTinyInt
  minimum_value                                          Float?
  maximum_value                                          Float?
  created_at                                             DateTime                  @default(now()) @db.Timestamp(0)
  updated_at                                             DateTime                  @default(now()) @db.Timestamp(0)
  deleted_at                                             DateTime?                 @db.Timestamp(0)
  filling_type                                           units_filling_type
  number_of_outcome_population_studies                   Int?                      @db.UnsignedInt
  number_of_common_tags_where_tag_variable_unit          Int?                      @db.UnsignedInt
  number_of_common_tags_where_tagged_variable_unit       Int?                      @db.UnsignedInt
  number_of_outcome_case_studies                         Int?                      @db.UnsignedInt
  number_of_measurements                                 Int?                      @db.UnsignedInt
  number_of_user_variables_where_default_unit            Int?                      @db.UnsignedInt
  number_of_variable_categories_where_default_unit       Int?                      @db.UnsignedInt
  number_of_variables_where_default_unit                 Int?                      @db.UnsignedInt
  advanced                                               Boolean
  manual_tracking                                        Boolean
  filling_value                                          Float?                    @db.Float
  scale                                                  units_scale
  conversion_steps                                       String?                   @db.Text
  maximum_daily_value                                    Float?
  sort_order                                             Int
  slug                                                   String?                   @unique(map: "units_slug_uindex") @db.VarChar(200)
  aggregate_correlations                                 aggregate_correlations[]
  cohort_study_statistics                                cohort_study_statistics[]
  common_tags_common_tags_tag_variable_unit_idTounits    common_tags[]             @relation("common_tags_tag_variable_unit_idTounits")
  common_tags_common_tags_tagged_variable_unit_idTounits common_tags[]             @relation("common_tags_tagged_variable_unit_idTounits")
  correlations                                           correlations[]
  measurements_measurements_original_unit_idTounits      measurements[]            @relation("measurements_original_unit_idTounits")
  measurements_measurements_unit_idTounits               measurements[]            @relation("measurements_unit_idTounits")
  user_variables_unitsTouser_variables_default_unit_id   user_variables[]          @relation("unitsTouser_variables_default_unit_id")
  user_variables_unitsTouser_variables_last_unit_id      user_variables[]          @relation("unitsTouser_variables_last_unit_id")
  variable_categories                                    variable_categories[]
  variables                                              variables[]

  @@index([unit_category_id], map: "fk_unitCategory")
}

model user {
  id                                        Int       @id @default(autoincrement()) @db.UnsignedInt
  name                                      String    @db.VarChar(255)
  first_name                                String?   @db.VarChar(255)
  last_name                                 String?   @db.VarChar(255)
  last_login_date                           DateTime? @db.DateTime(0)
  email                                     String    @unique(map: "user_email_unique") @db.VarChar(255)
  password                                  String?   @db.Text
  is_sys_admin                              Boolean   @default(false)
  is_active                                 Boolean   @default(true)
  phone                                     String?   @db.VarChar(32)
  security_question                         String?   @db.VarChar(255)
  security_answer                           String?   @db.Text
  confirm_code                              String?   @db.VarChar(255)
  default_app_id                            Int?      @db.UnsignedInt
  remember_token                            String?   @db.VarChar(100)
  created_date                              DateTime? @db.Timestamp(0)
  last_modified_date                        DateTime  @default(now()) @db.Timestamp(0)
  created_by_id                             Int?      @db.UnsignedInt
  last_modified_by_id                       Int?      @db.UnsignedInt
  user_userTouser_created_by_id             user?     @relation("userTouser_created_by_id", fields: [created_by_id], references: [id], onUpdate: Restrict, map: "user_created_by_id_foreign")
  user_userTouser_last_modified_by_id       user?     @relation("userTouser_last_modified_by_id", fields: [last_modified_by_id], references: [id], onUpdate: Restrict, map: "user_last_modified_by_id_foreign")
  other_user_userTouser_created_by_id       user[]    @relation("userTouser_created_by_id")
  other_user_userTouser_last_modified_by_id user[]    @relation("userTouser_last_modified_by_id")

  @@index([created_by_id], map: "user_created_by_id_foreign")
  @@index([last_modified_by_id], map: "user_last_modified_by_id_foreign")
}

model user_clients {
  id                      Int         @id @default(autoincrement())
  client_id               String?     @db.VarChar(80)
  created_at              DateTime    @default(now()) @db.Timestamp(0)
  deleted_at              DateTime?   @db.Timestamp(0)
  earliest_measurement_at DateTime?   @db.Timestamp(0)
  latest_measurement_at   DateTime?   @db.Timestamp(0)
  number_of_measurements  Int?        @db.UnsignedInt
  updated_at              DateTime    @default(now()) @db.Timestamp(0)
  user_id                 BigInt      @db.UnsignedBigInt
  oa_clients              oa_clients? @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "user_clients_client_id_fk")
  wp_users                wp_users    @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "user_clients_user_id_fk")

  @@unique([user_id, client_id], map: "user")
  @@index([client_id], map: "user_clients_client_id_fk")
}

model user_follower {
  id           Int       @id @default(autoincrement()) @db.UnsignedInt
  following_id BigInt    @db.UnsignedBigInt
  follower_id  BigInt    @db.UnsignedBigInt
  accepted_at  DateTime? @db.Timestamp(0)
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)

  @@index([accepted_at], map: "user_follower_accepted_at_index")
  @@index([follower_id], map: "user_follower_follower_id_index")
  @@index([following_id], map: "user_follower_following_id_index")
}

model user_studies {
  id                                                                  String         @id @db.VarChar(80)
  cause_variable_id                                                   Int            @db.UnsignedInt
  effect_variable_id                                                  Int            @db.UnsignedInt
  cause_user_variable_id                                              Int            @db.UnsignedInt
  effect_user_variable_id                                             Int            @db.UnsignedInt
  correlation_id                                                      Int?           @unique(map: "user_studies_correlation_id_uindex")
  user_id                                                             BigInt         @db.UnsignedBigInt
  created_at                                                          DateTime       @default(now()) @db.Timestamp(0)
  deleted_at                                                          DateTime?      @db.Timestamp(0)
  analysis_parameters                                                 String?        @db.Text
  user_study_text                                                     String?        @db.LongText
  user_title                                                          String?        @db.Text
  study_status                                                        String         @default("publish") @db.VarChar(20)
  comment_status                                                      String         @default("open") @db.VarChar(20)
  study_password                                                      String?        @db.VarChar(20)
  study_images                                                        String?        @db.Text
  updated_at                                                          DateTime       @default(now()) @db.Timestamp(0)
  client_id                                                           String?        @db.VarChar(255)
  published_at                                                        DateTime?      @db.Timestamp(0)
  wp_post_id                                                          Int?
  newest_data_at                                                      DateTime?      @db.Timestamp(0)
  analysis_requested_at                                               DateTime?      @db.Timestamp(0)
  reason_for_analysis                                                 String?        @db.VarChar(255)
  analysis_ended_at                                                   DateTime?      @db.Timestamp(0)
  analysis_started_at                                                 DateTime?      @db.Timestamp(0)
  internal_error_message                                              String?        @db.VarChar(255)
  user_error_message                                                  String?        @db.VarChar(255)
  status                                                              String?        @db.VarChar(25)
  analysis_settings_modified_at                                       DateTime?      @db.Timestamp(0)
  is_public                                                           Boolean?
  sort_order                                                          Int
  slug                                                                String?        @unique(map: "user_studies_slug_uindex") @db.VarChar(200)
  user_variables_user_studies_cause_user_variable_idTouser_variables  user_variables @relation("user_studies_cause_user_variable_idTouser_variables", fields: [cause_user_variable_id], references: [id], onUpdate: Restrict, map: "user_studies_cause_user_variables_id_fk")
  variables_user_studies_cause_variable_idTovariables                 variables      @relation("user_studies_cause_variable_idTovariables", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "user_studies_cause_variables_id_fk")
  correlations                                                        correlations?  @relation(fields: [correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "user_studies_correlations_id_fk")
  user_variables_user_studies_effect_user_variable_idTouser_variables user_variables @relation("user_studies_effect_user_variable_idTouser_variables", fields: [effect_user_variable_id], references: [id], onUpdate: Restrict, map: "user_studies_effect_user_variables_id_fk")
  variables_user_studies_effect_variable_idTovariables                variables      @relation("user_studies_effect_variable_idTovariables", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "user_studies_effect_variables_id_fk")
  wp_users                                                            wp_users       @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "user_studies_user_id_fk")

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "user_studies_user_cause_effect")
  @@index([cause_user_variable_id], map: "user_studies_cause_user_variables_id_fk")
  @@index([cause_variable_id], map: "user_studies_cause_variables_id_fk")
  @@index([effect_user_variable_id], map: "user_studies_effect_user_variables_id_fk")
  @@index([effect_variable_id], map: "user_studies_effect_variables_id_fk")
}

model user_tags {
  id                                                               Int             @id @default(autoincrement()) @db.UnsignedInt
  tagged_variable_id                                               Int             @db.UnsignedInt
  tag_variable_id                                                  Int             @db.UnsignedInt
  conversion_factor                                                Float
  user_id                                                          BigInt          @db.UnsignedBigInt
  created_at                                                       DateTime        @default(now()) @db.Timestamp(0)
  updated_at                                                       DateTime        @default(now()) @db.Timestamp(0)
  client_id                                                        String?         @db.VarChar(80)
  deleted_at                                                       DateTime?       @db.Timestamp(0)
  tagged_user_variable_id                                          Int?            @db.UnsignedInt
  tag_user_variable_id                                             Int?            @db.UnsignedInt
  oa_clients                                                       oa_clients?     @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "user_tags_client_id_fk")
  user_variables_user_tags_tag_user_variable_idTouser_variables    user_variables? @relation("user_tags_tag_user_variable_idTouser_variables", fields: [tag_user_variable_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "user_tags_tag_user_variable_id_fk")
  variables_user_tags_tag_variable_idTovariables                   variables       @relation("user_tags_tag_variable_idTovariables", fields: [tag_variable_id], references: [id], onUpdate: Restrict, map: "user_tags_tag_variable_id_variables_id_fk")
  user_variables_user_tags_tagged_user_variable_idTouser_variables user_variables? @relation("user_tags_tagged_user_variable_idTouser_variables", fields: [tagged_user_variable_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "user_tags_tagged_user_variable_id_fk")
  variables_user_tags_tagged_variable_idTovariables                variables       @relation("user_tags_tagged_variable_idTovariables", fields: [tagged_variable_id], references: [id], onUpdate: Restrict, map: "user_tags_tagged_variable_id_variables_id_fk")
  wp_users                                                         wp_users        @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "user_tags_user_id_fk")

  @@unique([tagged_variable_id, tag_variable_id, user_id], map: "UK_user_tag_tagged")
  @@index([tag_variable_id], map: "fk_conversionUnit")
  @@index([client_id], map: "user_tags_client_id_fk")
  @@index([tag_user_variable_id], map: "user_tags_tag_user_variable_id_fk")
  @@index([tagged_user_variable_id], map: "user_tags_tagged_user_variable_id_fk")
  @@index([user_id], map: "user_tags_user_id_fk")
}

model user_variable_clients {
  id                      Int            @id @default(autoincrement())
  client_id               String         @db.VarChar(80)
  created_at              DateTime       @default(now()) @db.Timestamp(0)
  deleted_at              DateTime?      @db.Timestamp(0)
  earliest_measurement_at DateTime?      @db.Timestamp(0)
  latest_measurement_at   DateTime?      @db.Timestamp(0)
  number_of_measurements  Int?           @db.UnsignedInt
  updated_at              DateTime       @default(now()) @db.Timestamp(0)
  user_id                 BigInt         @db.UnsignedBigInt
  user_variable_id        Int            @db.UnsignedInt
  variable_id             Int            @db.UnsignedInt
  oa_clients              oa_clients     @relation(fields: [client_id], references: [client_id], onUpdate: Restrict, map: "user_variable_clients_client_id_fk")
  wp_users                wp_users       @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "user_variable_clients_user_id_fk")
  user_variables          user_variables @relation(fields: [user_variable_id], references: [id], onUpdate: Restrict, map: "user_variable_clients_user_variables_user_variable_id_fk")
  variables               variables      @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "user_variable_clients_variable_id_fk")

  @@unique([user_id, variable_id, client_id], map: "user")
  @@index([client_id], map: "user_variable_clients_client_id_fk")
  @@index([user_variable_id], map: "user_variable_clients_user_variables_user_variable_id_fk")
  @@index([variable_id], map: "user_variable_clients_variable_id_fk")
}

model user_variable_outcome_category {
  id                               Int                 @id @default(autoincrement())
  user_variable_id                 Int                 @db.UnsignedInt
  variable_id                      Int                 @db.UnsignedInt
  variable_category_id             Int                 @db.UnsignedTinyInt
  number_of_outcome_user_variables Int                 @db.UnsignedInt
  created_at                       DateTime            @default(now()) @db.Timestamp(0)
  updated_at                       DateTime            @default(now()) @db.Timestamp(0)
  deleted_at                       DateTime?           @db.Timestamp(0)
  user_variables                   user_variables      @relation(fields: [user_variable_id], references: [id], onUpdate: Restrict, map: "user_variable_outcome_category_user_variables_id_fk")
  variable_categories              variable_categories @relation(fields: [variable_category_id], references: [id], onUpdate: Restrict, map: "user_variable_outcome_category_variable_categories_id_fk")
  variables                        variables           @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "user_variable_outcome_category_variables_id_fk")

  @@unique([user_variable_id, variable_category_id], map: "user_variable_id_variable_category_id_uindex")
  @@index([variable_category_id], map: "user_variable_outcome_category_variable_categories_id_fk")
  @@index([variable_id], map: "user_variable_outcome_category_variables_id_fk")
}

model user_variable_predictor_category {
  id                                 Int                 @id @default(autoincrement())
  user_variable_id                   Int                 @db.UnsignedInt
  variable_id                        Int                 @db.UnsignedInt
  variable_category_id               Int                 @db.UnsignedTinyInt
  number_of_predictor_user_variables Int                 @db.UnsignedInt
  created_at                         DateTime            @default(now()) @db.Timestamp(0)
  updated_at                         DateTime            @default(now()) @db.Timestamp(0)
  deleted_at                         DateTime?           @db.Timestamp(0)
  user_variables                     user_variables      @relation(fields: [user_variable_id], references: [id], onUpdate: Restrict, map: "user_variable_predictor_category_user_variables_id_fk")
  variable_categories                variable_categories @relation(fields: [variable_category_id], references: [id], onUpdate: Restrict, map: "user_variable_predictor_category_variable_categories_id_fk")
  variables                          variables           @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "user_variable_predictor_category_variables_id_fk")

  @@unique([user_variable_id, variable_category_id], map: "user_variable_id_variable_category_id_uindex")
  @@index([variable_category_id], map: "user_variable_predictor_category_variable_categories_id_fk")
  @@index([variable_id], map: "user_variable_predictor_category_variables_id_fk")
}

model user_variables {
  id                                                                              Int                                   @id @default(autoincrement()) @db.UnsignedInt
  parent_id                                                                       Int?                                  @db.UnsignedInt
  client_id                                                                       String?                               @db.VarChar(80)
  user_id                                                                         BigInt                                @db.UnsignedBigInt
  variable_id                                                                     Int                                   @db.UnsignedInt
  default_unit_id                                                                 Int?                                  @db.UnsignedSmallInt
  minimum_allowed_value                                                           Float?
  maximum_allowed_value                                                           Float?
  filling_value                                                                   Float?                                @default(-1)
  join_with                                                                       Int?                                  @db.UnsignedInt
  onset_delay                                                                     Int?                                  @db.UnsignedInt
  duration_of_action                                                              Int?                                  @db.UnsignedInt
  variable_category_id                                                            Int?                                  @db.UnsignedTinyInt
  cause_only                                                                      Boolean?
  filling_type                                                                    user_variables_filling_type?
  number_of_processed_daily_measurements                                          Int?
  measurements_at_last_analysis                                                   Int                                   @default(0) @db.UnsignedInt
  last_unit_id                                                                    Int?                                  @db.UnsignedSmallInt
  last_original_unit_id                                                           Int?                                  @db.UnsignedSmallInt
  last_value                                                                      Float?
  last_original_value                                                             Float?
  number_of_correlations                                                          Int?
  status                                                                          String?                               @db.VarChar(25)
  standard_deviation                                                              Float?
  variance                                                                        Float?
  minimum_recorded_value                                                          Float?
  maximum_recorded_value                                                          Float?
  mean                                                                            Float?
  median                                                                          Float?
  most_common_original_unit_id                                                    Int?
  most_common_value                                                               Float?
  number_of_unique_daily_values                                                   Int?
  number_of_unique_values                                                         Int?
  number_of_changes                                                               Int?
  skewness                                                                        Float?
  kurtosis                                                                        Float?
  latitude                                                                        Float?
  longitude                                                                       Float?
  location                                                                        String?                               @db.VarChar(255)
  created_at                                                                      DateTime                              @default(now()) @db.Timestamp(0)
  updated_at                                                                      DateTime                              @default(now()) @db.Timestamp(0)
  outcome                                                                         Boolean?
  data_sources_count                                                              String?                               @db.Text
  earliest_filling_time                                                           Int?
  latest_filling_time                                                             Int?
  last_processed_daily_value                                                      Float?
  outcome_of_interest                                                             Boolean?                              @default(false)
  predictor_of_interest                                                           Boolean?                              @default(false)
  experiment_start_time                                                           DateTime?                             @db.Timestamp(0)
  experiment_end_time                                                             DateTime?                             @db.Timestamp(0)
  description                                                                     String?                               @db.Text
  alias                                                                           String?                               @db.VarChar(125)
  deleted_at                                                                      DateTime?                             @db.Timestamp(0)
  second_to_last_value                                                            Float?
  third_to_last_value                                                             Float?
  number_of_user_correlations_as_effect                                           Int?                                  @db.UnsignedInt
  number_of_user_correlations_as_cause                                            Int?                                  @db.UnsignedInt
  combination_operation                                                           user_variables_combination_operation?
  informational_url                                                               String?                               @db.VarChar(2000)
  most_common_connector_id                                                        Int?                                  @db.UnsignedInt
  valence                                                                         user_variables_valence?
  wikipedia_title                                                                 String?                               @db.VarChar(100)
  number_of_tracking_reminders                                                    Int
  number_of_raw_measurements_with_tags_joins_children                             Int?                                  @db.UnsignedInt
  most_common_source_name                                                         String?                               @db.VarChar(255)
  optimal_value_message                                                           String?                               @db.VarChar(500)
  best_cause_variable_id                                                          Int?
  best_effect_variable_id                                                         Int?
  user_maximum_allowed_daily_value                                                Float?
  user_minimum_allowed_daily_value                                                Float?
  user_minimum_allowed_non_zero_value                                             Float?
  minimum_allowed_seconds_between_measurements                                    Int?
  average_seconds_between_measurements                                            Int?
  median_seconds_between_measurements                                             Int?
  last_correlated_at                                                              DateTime?                             @db.Timestamp(0)
  number_of_measurements_with_tags_at_last_correlation                            Int?
  analysis_settings_modified_at                                                   DateTime?                             @db.Timestamp(0)
  newest_data_at                                                                  DateTime?                             @db.Timestamp(0)
  analysis_requested_at                                                           DateTime?                             @db.Timestamp(0)
  reason_for_analysis                                                             String?                               @db.VarChar(255)
  analysis_started_at                                                             DateTime?                             @db.Timestamp(0)
  analysis_ended_at                                                               DateTime?                             @db.Timestamp(0)
  user_error_message                                                              String?                               @db.Text
  internal_error_message                                                          String?                               @db.Text
  earliest_source_measurement_start_at                                            DateTime?                             @db.Timestamp(0)
  latest_source_measurement_start_at                                              DateTime?                             @db.Timestamp(0)
  latest_tagged_measurement_start_at                                              DateTime?                             @db.Timestamp(0)
  earliest_tagged_measurement_start_at                                            DateTime?                             @db.Timestamp(0)
  latest_non_tagged_measurement_start_at                                          DateTime?                             @db.Timestamp(0)
  earliest_non_tagged_measurement_start_at                                        DateTime?                             @db.Timestamp(0)
  wp_post_id                                                                      BigInt?                               @db.UnsignedBigInt
  number_of_soft_deleted_measurements                                             Int?
  best_user_correlation_id                                                        Int?
  number_of_measurements                                                          Int?                                  @db.UnsignedInt
  number_of_tracking_reminder_notifications                                       Int?                                  @db.UnsignedInt
  deletion_reason                                                                 String?                               @db.VarChar(280)
  record_size_in_kb                                                               Int?
  number_of_common_tags                                                           Int?
  number_common_tagged_by                                                         Int?
  number_of_common_joined_variables                                               Int?
  number_of_common_ingredients                                                    Int?
  number_of_common_foods                                                          Int?
  number_of_common_children                                                       Int?
  number_of_common_parents                                                        Int?
  number_of_user_tags                                                             Int?
  number_user_tagged_by                                                           Int?
  number_of_user_joined_variables                                                 Int?
  number_of_user_ingredients                                                      Int?
  number_of_user_foods                                                            Int?
  number_of_user_children                                                         Int?
  number_of_user_parents                                                          Int?
  is_public                                                                       Boolean?
  is_goal                                                                         Boolean?
  controllable                                                                    Boolean?
  boring                                                                          Boolean?
  slug                                                                            String?                               @unique(map: "user_variables_slug_uindex") @db.VarChar(200)
  predictor                                                                       Boolean?
  oa_clients                                                                      oa_clients?                           @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "user_variables_client_id_fk")
  correlations_correlationsTouser_variables_best_user_correlation_id              correlations?                         @relation("correlationsTouser_variables_best_user_correlation_id", fields: [best_user_correlation_id], references: [id], onUpdate: Restrict, map: "user_variables_correlations_qm_score_fk")
  units_unitsTouser_variables_default_unit_id                                     units?                                @relation("unitsTouser_variables_default_unit_id", fields: [default_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "user_variables_default_unit_id_fk")
  units_unitsTouser_variables_last_unit_id                                        units?                                @relation("unitsTouser_variables_last_unit_id", fields: [last_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "user_variables_last_unit_id_fk")
  wp_users                                                                        wp_users                              @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "user_variables_user_id_fk")
  variable_categories                                                             variable_categories?                  @relation(fields: [variable_category_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "user_variables_variable_category_id_fk")
  variables                                                                       variables                             @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "user_variables_variables_id_fk")
  wp_posts                                                                        wp_posts?                             @relation(fields: [wp_post_id], references: [ID], map: "user_variables_wp_posts_ID_fk")
  correlations_correlations_cause_user_variable_idTouser_variables                correlations[]                        @relation("correlations_cause_user_variable_idTouser_variables")
  correlations_correlations_effect_user_variable_idTouser_variables               correlations[]                        @relation("correlations_effect_user_variable_idTouser_variables")
  measurements                                                                    measurements[]
  tracking_reminder_notifications                                                 tracking_reminder_notifications[]
  tracking_reminders_tracking_reminders_user_id_variable_idTouser_variables       tracking_reminders[]                  @relation("tracking_reminders_user_id_variable_idTouser_variables")
  tracking_reminders_tracking_reminders_user_variable_idTouser_variables          tracking_reminders[]                  @relation("tracking_reminders_user_variable_idTouser_variables")
  user_studies_user_studies_cause_user_variable_idTouser_variables                user_studies[]                        @relation("user_studies_cause_user_variable_idTouser_variables")
  user_studies_user_studies_effect_user_variable_idTouser_variables               user_studies[]                        @relation("user_studies_effect_user_variable_idTouser_variables")
  user_tags_user_tags_tag_user_variable_idTouser_variables                        user_tags[]                           @relation("user_tags_tag_user_variable_idTouser_variables")
  user_tags_user_tags_tagged_user_variable_idTouser_variables                     user_tags[]                           @relation("user_tags_tagged_user_variable_idTouser_variables")
  user_variable_clients                                                           user_variable_clients[]
  user_variable_outcome_category                                                  user_variable_outcome_category[]
  user_variable_predictor_category                                                user_variable_predictor_category[]
  variable_user_sources_user_variablesTovariable_user_sources_user_id_variable_id variable_user_sources[]               @relation("user_variablesTovariable_user_sources_user_id_variable_id")
  variable_user_sources_user_variablesTovariable_user_sources_user_variable_id    variable_user_sources[]               @relation("user_variablesTovariable_user_sources_user_variable_id")

  @@unique([user_id, variable_id], map: "user_id")
  @@index([variable_id], map: "fk_variableSettings")
  @@index([analysis_started_at], map: "user_variables_analysis_started_at_index")
  @@index([client_id], map: "user_variables_client_id_fk")
  @@index([best_user_correlation_id], map: "user_variables_correlations_qm_score_fk")
  @@index([default_unit_id], map: "user_variables_default_unit_id_fk")
  @@index([last_unit_id], map: "user_variables_last_unit_id_fk")
  @@index([user_id], map: "user_variables_user_id_latest_tagged_measurement_time_index")
  @@index([variable_category_id], map: "user_variables_variable_category_id_fk")
  @@index([wp_post_id], map: "user_variables_wp_posts_ID_fk")
  @@index([analysis_ended_at], map: "variables_analysis_ended_at_index")
}

model users {
  id                BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name              String    @db.VarChar(255)
  email             String    @unique(map: "users_email_unique") @db.VarChar(255)
  email_verified_at DateTime? @db.Timestamp(0)
  password          String    @db.VarChar(255)
  remember_token    String?   @db.VarChar(100)
  created_at        DateTime? @db.Timestamp(0)
  updated_at        DateTime? @db.Timestamp(0)
}

model variable_categories {
  id                                                                                                 Int                                       @id @default(autoincrement()) @db.UnsignedTinyInt
  name                                                                                               String                                    @db.VarChar(64)
  filling_value                                                                                      Float?
  maximum_allowed_value                                                                              Float?
  minimum_allowed_value                                                                              Float?
  duration_of_action                                                                                 Int                                       @default(86400) @db.UnsignedInt
  onset_delay                                                                                        Int                                       @default(0) @db.UnsignedInt
  combination_operation                                                                              variable_categories_combination_operation @default(SUM)
  cause_only                                                                                         Boolean                                   @default(false)
  outcome                                                                                            Boolean?
  created_at                                                                                         DateTime                                  @default(now()) @db.Timestamp(0)
  updated_at                                                                                         DateTime                                  @default(now()) @db.Timestamp(0)
  image_url                                                                                          String?                                   @db.TinyText
  default_unit_id                                                                                    Int?                                      @default(12) @db.UnsignedSmallInt
  deleted_at                                                                                         DateTime?                                 @db.Timestamp(0)
  manual_tracking                                                                                    Boolean?                                  @default(false)
  minimum_allowed_seconds_between_measurements                                                       Int?
  average_seconds_between_measurements                                                               Int?
  median_seconds_between_measurements                                                                Int?
  wp_post_id                                                                                         BigInt?                                   @db.UnsignedBigInt
  filling_type                                                                                       variable_categories_filling_type?
  number_of_outcome_population_studies                                                               Int?                                      @db.UnsignedInt
  number_of_predictor_population_studies                                                             Int?                                      @db.UnsignedInt
  number_of_outcome_case_studies                                                                     Int?                                      @db.UnsignedInt
  number_of_predictor_case_studies                                                                   Int?                                      @db.UnsignedInt
  number_of_measurements                                                                             Int?                                      @db.UnsignedInt
  number_of_user_variables                                                                           Int?                                      @db.UnsignedInt
  number_of_variables                                                                                Int?                                      @db.UnsignedInt
  is_public                                                                                          Boolean?
  synonyms                                                                                           String                                    @db.VarChar(600)
  amazon_product_category                                                                            String                                    @db.VarChar(100)
  boring                                                                                             Boolean?
  effect_only                                                                                        Boolean?
  predictor                                                                                          Boolean?
  font_awesome                                                                                       String?                                   @db.VarChar(100)
  ion_icon                                                                                           String?                                   @db.VarChar(100)
  more_info                                                                                          String?                                   @db.VarChar(255)
  valence                                                                                            variable_categories_valence
  name_singular                                                                                      String                                    @db.VarChar(255)
  sort_order                                                                                         Int
  is_goal                                                                                            variable_categories_is_goal
  controllable                                                                                       variable_categories_controllable
  slug                                                                                               String?                                   @unique(map: "variable_categories_slug_uindex") @db.VarChar(200)
  units                                                                                              units?                                    @relation(fields: [default_unit_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "variable_categories_default_unit_id_fk")
  wp_posts                                                                                           wp_posts?                                 @relation(fields: [wp_post_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "variable_categories_wp_posts_ID_fk")
  aggregate_correlations_aggregate_correlations_cause_variable_category_idTovariable_categories      aggregate_correlations[]                  @relation("aggregate_correlations_cause_variable_category_idTovariable_categories")
  aggregate_correlations_aggregate_correlations_effect_variable_category_idTovariable_categories     aggregate_correlations[]                  @relation("aggregate_correlations_effect_variable_category_idTovariable_categories")
  cohort_study_statistics_cohort_study_statistics_cause_variable_category_idTovariable_categories    cohort_study_statistics[]                 @relation("cohort_study_statistics_cause_variable_category_idTovariable_categories")
  cohort_study_statistics_cohort_study_statistics_effect_variable_category_idTovariable_categories   cohort_study_statistics[]                 @relation("cohort_study_statistics_effect_variable_category_idTovariable_categories")
  correlations_correlations_cause_variable_category_idTovariable_categories                          correlations[]                            @relation("correlations_cause_variable_category_idTovariable_categories")
  correlations_correlations_effect_variable_category_idTovariable_categories                         correlations[]                            @relation("correlations_effect_variable_category_idTovariable_categories")
  measurements                                                                                       measurements[]
  third_party_correlations_third_party_correlations_cause_variable_category_idTovariable_categories  third_party_correlations[]                @relation("third_party_correlations_cause_variable_category_idTovariable_categories")
  third_party_correlations_third_party_correlations_effect_variable_category_idTovariable_categories third_party_correlations[]                @relation("third_party_correlations_effect_variable_category_idTovariable_categories")
  user_variable_outcome_category                                                                     user_variable_outcome_category[]
  user_variable_predictor_category                                                                   user_variable_predictor_category[]
  user_variables                                                                                     user_variables[]
  variable_outcome_category                                                                          variable_outcome_category[]
  variable_predictor_category                                                                        variable_predictor_category[]
  variables                                                                                          variables[]

  @@index([default_unit_id], map: "variable_categories_default_unit_id_fk")
  @@index([wp_post_id], map: "variable_categories_wp_posts_ID_fk")
}

model variable_outcome_category {
  id                          Int                 @id @default(autoincrement())
  variable_id                 Int                 @db.UnsignedInt
  variable_category_id        Int                 @db.UnsignedTinyInt
  number_of_outcome_variables Int                 @db.UnsignedInt
  created_at                  DateTime            @default(now()) @db.Timestamp(0)
  updated_at                  DateTime            @default(now()) @db.Timestamp(0)
  deleted_at                  DateTime?           @db.Timestamp(0)
  variable_categories         variable_categories @relation(fields: [variable_category_id], references: [id], onUpdate: Restrict, map: "variable_outcome_category_variable_categories_id_fk")
  variables                   variables           @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "variable_outcome_category_variables_id_fk")

  @@unique([variable_id, variable_category_id], map: "variable_id_variable_category_id_uindex")
  @@index([variable_category_id], map: "variable_outcome_category_variable_categories_id_fk")
}

model variable_predictor_category {
  id                            Int                 @id @default(autoincrement())
  variable_id                   Int                 @db.UnsignedInt
  variable_category_id          Int                 @db.UnsignedTinyInt
  number_of_predictor_variables Int                 @db.UnsignedInt
  created_at                    DateTime            @default(now()) @db.Timestamp(0)
  updated_at                    DateTime            @default(now()) @db.Timestamp(0)
  deleted_at                    DateTime?           @db.Timestamp(0)
  variable_categories           variable_categories @relation(fields: [variable_category_id], references: [id], onUpdate: Restrict, map: "variable_predictor_category_variable_categories_id_fk")
  variables                     variables           @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "variable_predictor_category_variables_id_fk")

  @@unique([variable_id, variable_category_id], map: "variable_id_variable_category_id_uindex")
  @@index([variable_category_id], map: "variable_predictor_category_variable_categories_id_fk")
}

model variable_user_sources {
  user_id                                                                  BigInt         @db.UnsignedBigInt
  variable_id                                                              Int            @db.UnsignedInt
  timestamp                                                                Int?           @db.UnsignedInt
  earliest_measurement_time                                                Int?           @db.UnsignedInt
  latest_measurement_time                                                  Int?           @db.UnsignedInt
  created_at                                                               DateTime       @default(now()) @db.Timestamp(0)
  updated_at                                                               DateTime       @default(now()) @db.Timestamp(0)
  deleted_at                                                               DateTime?      @db.Timestamp(0)
  data_source_name                                                         String         @db.VarChar(80)
  number_of_raw_measurements                                               Int?
  client_id                                                                String?        @db.VarChar(255)
  id                                                                       Int            @id @default(autoincrement())
  user_variable_id                                                         Int            @db.UnsignedInt
  earliest_measurement_start_at                                            DateTime?      @db.Timestamp(0)
  latest_measurement_start_at                                              DateTime?      @db.Timestamp(0)
  oa_clients                                                               oa_clients?    @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "variable_user_sources_client_id_fk")
  wp_users                                                                 wp_users       @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "variable_user_sources_user_id_fk")
  user_variables_user_variablesTovariable_user_sources_user_id_variable_id user_variables @relation("user_variablesTovariable_user_sources_user_id_variable_id", fields: [user_id, variable_id], references: [user_id, variable_id], onUpdate: Restrict, map: "variable_user_sources_user_variables_user_id_variable_id_fk")
  user_variables_user_variablesTovariable_user_sources_user_variable_id    user_variables @relation("user_variablesTovariable_user_sources_user_variable_id", fields: [user_variable_id], references: [id], onDelete: Cascade, map: "variable_user_sources_user_variables_user_variable_id_fk")
  variables                                                                variables      @relation(fields: [variable_id], references: [id], onUpdate: Restrict, map: "variable_user_sources_variable_id_fk")

  @@unique([user_id, variable_id, data_source_name], map: "user")
  @@index([client_id], map: "variable_user_sources_client_id_fk")
  @@index([user_variable_id], map: "variable_user_sources_user_variables_user_variable_id_fk")
  @@index([variable_id, user_id], map: "variable_user_sources_user_variables_variable_id_user_id_fk")
}

model variables {
  id                                                                                      Int                                @id @default(autoincrement()) @db.UnsignedInt
  name                                                                                    String                             @unique(map: "name_UNIQUE") @db.VarChar(125)
  number_of_user_variables                                                                Int                                @default(0)
  variable_category_id                                                                    Int                                @db.UnsignedTinyInt
  default_unit_id                                                                         Int                                @db.UnsignedSmallInt
  default_value                                                                           Float?
  cause_only                                                                              Boolean?
  client_id                                                                               String?                            @db.VarChar(80)
  combination_operation                                                                   variables_combination_operation?
  common_alias                                                                            String?                            @db.VarChar(125)
  created_at                                                                              DateTime                           @default(now()) @db.Timestamp(0)
  description                                                                             String?                            @db.Text
  duration_of_action                                                                      Int?                               @db.UnsignedInt
  filling_value                                                                           Float?                             @default(-1)
  image_url                                                                               String?                            @db.VarChar(2083)
  informational_url                                                                       String?                            @db.VarChar(2083)
  ion_icon                                                                                String?                            @db.VarChar(40)
  kurtosis                                                                                Float?
  maximum_allowed_value                                                                   Float?
  maximum_recorded_value                                                                  Float?
  mean                                                                                    Float?
  median                                                                                  Float?
  minimum_allowed_value                                                                   Float?
  minimum_recorded_value                                                                  Float?
  number_of_aggregate_correlations_as_cause                                               Int?                               @db.UnsignedInt
  most_common_original_unit_id                                                            Int?
  most_common_value                                                                       Float?
  number_of_aggregate_correlations_as_effect                                              Int?                               @db.UnsignedInt
  number_of_unique_values                                                                 Int?
  onset_delay                                                                             Int?                               @db.UnsignedInt
  outcome                                                                                 Boolean?
  parent_id                                                                               Int?                               @db.UnsignedInt
  price                                                                                   Float?
  product_url                                                                             String?                            @db.VarChar(2083)
  second_most_common_value                                                                Float?
  skewness                                                                                Float?
  standard_deviation                                                                      Float?
  status                                                                                  String                             @default("WAITING") @db.VarChar(25)
  third_most_common_value                                                                 Float?
  updated_at                                                                              DateTime                           @default(now()) @db.Timestamp(0)
  variance                                                                                Float?
  most_common_connector_id                                                                Int?                               @db.UnsignedInt
  synonyms                                                                                String?                            @db.VarChar(600)
  wikipedia_url                                                                           String?                            @db.VarChar(2083)
  brand_name                                                                              String?                            @db.VarChar(125)
  valence                                                                                 variables_valence?
  wikipedia_title                                                                         String?                            @db.VarChar(100)
  number_of_tracking_reminders                                                            Int?
  upc_12                                                                                  String?                            @db.VarChar(255)
  upc_14                                                                                  String?                            @db.VarChar(255)
  number_common_tagged_by                                                                 Int?                               @db.UnsignedInt
  number_of_common_tags                                                                   Int?                               @db.UnsignedInt
  deleted_at                                                                              DateTime?                          @db.Timestamp(0)
  most_common_source_name                                                                 String?                            @db.VarChar(255)
  data_sources_count                                                                      String?                            @db.Text
  optimal_value_message                                                                   String?                            @db.VarChar(500)
  best_cause_variable_id                                                                  Int?                               @db.UnsignedInt
  best_effect_variable_id                                                                 Int?                               @db.UnsignedInt
  common_maximum_allowed_daily_value                                                      Float?
  common_minimum_allowed_daily_value                                                      Float?
  common_minimum_allowed_non_zero_value                                                   Float?
  minimum_allowed_seconds_between_measurements                                            Int?
  average_seconds_between_measurements                                                    Int?
  median_seconds_between_measurements                                                     Int?
  number_of_raw_measurements_with_tags_joins_children                                     Int?                               @db.UnsignedInt
  additional_meta_data                                                                    String?                            @db.Text
  manual_tracking                                                                         Boolean?
  analysis_settings_modified_at                                                           DateTime?                          @db.Timestamp(0)
  newest_data_at                                                                          DateTime?                          @db.Timestamp(0)
  analysis_requested_at                                                                   DateTime?                          @db.Timestamp(0)
  reason_for_analysis                                                                     String?                            @db.VarChar(255)
  analysis_started_at                                                                     DateTime?                          @db.Timestamp(0)
  analysis_ended_at                                                                       DateTime?                          @db.Timestamp(0)
  user_error_message                                                                      String?                            @db.Text
  internal_error_message                                                                  String?                            @db.Text
  latest_tagged_measurement_start_at                                                      DateTime?                          @db.Timestamp(0)
  earliest_tagged_measurement_start_at                                                    DateTime?                          @db.Timestamp(0)
  latest_non_tagged_measurement_start_at                                                  DateTime?                          @db.Timestamp(0)
  earliest_non_tagged_measurement_start_at                                                DateTime?                          @db.Timestamp(0)
  wp_post_id                                                                              BigInt?                            @db.UnsignedBigInt
  number_of_soft_deleted_measurements                                                     Int?
  charts                                                                                  Json?
  creator_user_id                                                                         BigInt                             @db.UnsignedBigInt
  best_aggregate_correlation_id                                                           Int?
  filling_type                                                                            variables_filling_type?
  number_of_outcome_population_studies                                                    Int?                               @db.UnsignedInt
  number_of_predictor_population_studies                                                  Int?                               @db.UnsignedInt
  number_of_applications_where_outcome_variable                                           Int?                               @db.UnsignedInt
  number_of_applications_where_predictor_variable                                         Int?                               @db.UnsignedInt
  number_of_common_tags_where_tag_variable                                                Int?                               @db.UnsignedInt
  number_of_common_tags_where_tagged_variable                                             Int?                               @db.UnsignedInt
  number_of_outcome_case_studies                                                          Int?                               @db.UnsignedInt
  number_of_predictor_case_studies                                                        Int?                               @db.UnsignedInt
  number_of_measurements                                                                  Int?                               @db.UnsignedInt
  number_of_studies_where_cause_variable                                                  Int?                               @db.UnsignedInt
  number_of_studies_where_effect_variable                                                 Int?                               @db.UnsignedInt
  number_of_tracking_reminder_notifications                                               Int?                               @db.UnsignedInt
  number_of_user_tags_where_tag_variable                                                  Int?                               @db.UnsignedInt
  number_of_user_tags_where_tagged_variable                                               Int?                               @db.UnsignedInt
  number_of_variables_where_best_cause_variable                                           Int?                               @db.UnsignedInt
  number_of_variables_where_best_effect_variable                                          Int?                               @db.UnsignedInt
  number_of_votes_where_cause_variable                                                    Int?                               @db.UnsignedInt
  number_of_votes_where_effect_variable                                                   Int?                               @db.UnsignedInt
  number_of_users_where_primary_outcome_variable                                          Int?                               @db.UnsignedInt
  deletion_reason                                                                         String?                            @db.VarChar(280)
  maximum_allowed_daily_value                                                             Float?
  record_size_in_kb                                                                       Int?
  number_of_common_joined_variables                                                       Int?
  number_of_common_ingredients                                                            Int?
  number_of_common_foods                                                                  Int?
  number_of_common_children                                                               Int?
  number_of_common_parents                                                                Int?
  number_of_user_joined_variables                                                         Int?
  number_of_user_ingredients                                                              Int?
  number_of_user_foods                                                                    Int?
  number_of_user_children                                                                 Int?
  number_of_user_parents                                                                  Int?
  is_public                                                                               Boolean?
  sort_order                                                                              Int
  is_goal                                                                                 Boolean?
  controllable                                                                            Boolean?
  boring                                                                                  Boolean?
  slug                                                                                    String?                            @unique(map: "variables_slug_uindex") @db.VarChar(200)
  canonical_variable_id                                                                   Int?                               @db.UnsignedInt
  predictor                                                                               Boolean?
  source_url                                                                              String?                            @db.VarChar(2083)
  aggregate_correlations_aggregate_correlationsTovariables_best_aggregate_correlation_id  aggregate_correlations?            @relation("aggregate_correlationsTovariables_best_aggregate_correlation_id", fields: [best_aggregate_correlation_id], references: [id], onUpdate: Restrict, map: "variables_aggregate_correlations_id_fk")
  variables_variablesTovariables_best_cause_variable_id                                   variables?                         @relation("variablesTovariables_best_cause_variable_id", fields: [best_cause_variable_id], references: [id], onUpdate: Restrict, map: "variables_best_cause_variable_id_fk")
  variables_variablesTovariables_best_effect_variable_id                                  variables?                         @relation("variablesTovariables_best_effect_variable_id", fields: [best_effect_variable_id], references: [id], onUpdate: Restrict, map: "variables_best_effect_variable_id_fk")
  oa_clients                                                                              oa_clients?                        @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "variables_client_id_fk")
  units                                                                                   units                              @relation(fields: [default_unit_id], references: [id], onUpdate: Restrict, map: "variables_default_unit_id_fk")
  variable_categories                                                                     variable_categories                @relation(fields: [variable_category_id], references: [id], onUpdate: Restrict, map: "variables_variable_category_id_fk")
  wp_posts                                                                                wp_posts?                          @relation(fields: [wp_post_id], references: [ID], map: "variables_wp_posts_ID_fk")
  aggregate_correlations_aggregate_correlations_cause_variable_idTovariables              aggregate_correlations[]           @relation("aggregate_correlations_cause_variable_idTovariables")
  aggregate_correlations_aggregate_correlations_effect_variable_idTovariables             aggregate_correlations[]           @relation("aggregate_correlations_effect_variable_idTovariables")
  applications_applications_outcome_variable_idTovariables                                applications[]                     @relation("applications_outcome_variable_idTovariables")
  applications_applications_predictor_variable_idTovariables                              applications[]                     @relation("applications_predictor_variable_idTovariables")
  cohort_studies_cohort_studies_cause_variable_idTovariables                              cohort_studies[]                   @relation("cohort_studies_cause_variable_idTovariables")
  cohort_studies_cohort_studies_effect_variable_idTovariables                             cohort_studies[]                   @relation("cohort_studies_effect_variable_idTovariables")
  cohort_study_statistics_cohort_study_statistics_cause_variable_idTovariables            cohort_study_statistics[]          @relation("cohort_study_statistics_cause_variable_idTovariables")
  cohort_study_statistics_cohort_study_statistics_effect_variable_idTovariables           cohort_study_statistics[]          @relation("cohort_study_statistics_effect_variable_idTovariables")
  common_tags_common_tags_tag_variable_idTovariables                                      common_tags[]                      @relation("common_tags_tag_variable_idTovariables")
  common_tags_common_tags_tagged_variable_idTovariables                                   common_tags[]                      @relation("common_tags_tagged_variable_idTovariables")
  correlation_causality_votes_correlation_causality_votes_cause_variable_idTovariables    correlation_causality_votes[]      @relation("correlation_causality_votes_cause_variable_idTovariables")
  correlation_causality_votes_correlation_causality_votes_effect_variable_idTovariables   correlation_causality_votes[]      @relation("correlation_causality_votes_effect_variable_idTovariables")
  correlation_usefulness_votes_correlation_usefulness_votes_cause_variable_idTovariables  correlation_usefulness_votes[]     @relation("correlation_usefulness_votes_cause_variable_idTovariables")
  correlation_usefulness_votes_correlation_usefulness_votes_effect_variable_idTovariables correlation_usefulness_votes[]     @relation("correlation_usefulness_votes_effect_variable_idTovariables")
  correlations_correlations_cause_variable_idTovariables                                  correlations[]                     @relation("correlations_cause_variable_idTovariables")
  correlations_correlations_effect_variable_idTovariables                                 correlations[]                     @relation("correlations_effect_variable_idTovariables")
  ct_causes                                                                               ct_causes?
  ct_condition_cause_ct_condition_cause_condition_variable_idTovariables                  ct_condition_cause[]               @relation("ct_condition_cause_condition_variable_idTovariables")
  ct_condition_cause_ct_condition_cause_cause_variable_idTovariables                      ct_condition_cause[]               @relation("ct_condition_cause_cause_variable_idTovariables")
  ct_condition_symptom_ct_condition_symptom_condition_variable_idTovariables              ct_condition_symptom[]             @relation("ct_condition_symptom_condition_variable_idTovariables")
  ct_condition_symptom_ct_condition_symptom_symptom_variable_idTovariables                ct_condition_symptom[]             @relation("ct_condition_symptom_symptom_variable_idTovariables")
  ct_condition_treatment_ct_condition_treatment_treatment_variable_idTovariables          ct_condition_treatment[]           @relation("ct_condition_treatment_treatment_variable_idTovariables")
  ct_condition_treatment_ct_condition_treatment_condition_variable_idTovariables          ct_condition_treatment[]           @relation("ct_condition_treatment_condition_variable_idTovariables")
  ct_conditions                                                                           ct_conditions?
  ct_side_effects                                                                         ct_side_effects?
  ct_symptoms                                                                             ct_symptoms?
  ct_treatment_side_effect_ct_treatment_side_effect_side_effect_variable_idTovariables    ct_treatment_side_effect[]         @relation("ct_treatment_side_effect_side_effect_variable_idTovariables")
  ct_treatment_side_effect_ct_treatment_side_effect_treatment_variable_idTovariables      ct_treatment_side_effect[]         @relation("ct_treatment_side_effect_treatment_variable_idTovariables")
  ct_treatments                                                                           ct_treatments[]
  global_studies_global_studies_cause_variable_idTovariables                              global_studies[]                   @relation("global_studies_cause_variable_idTovariables")
  global_studies_global_studies_effect_variable_idTovariables                             global_studies[]                   @relation("global_studies_effect_variable_idTovariables")
  measurements                                                                            measurements[]
  studies_studies_cause_variable_idTovariables                                            studies[]                          @relation("studies_cause_variable_idTovariables")
  studies_studies_effect_variable_idTovariables                                           studies[]                          @relation("studies_effect_variable_idTovariables")
  third_party_correlations_third_party_correlations_cause_idTovariables                   third_party_correlations[]         @relation("third_party_correlations_cause_idTovariables")
  third_party_correlations_third_party_correlations_effect_idTovariables                  third_party_correlations[]         @relation("third_party_correlations_effect_idTovariables")
  tracking_reminder_notifications                                                         tracking_reminder_notifications[]
  tracking_reminders                                                                      tracking_reminders[]
  user_studies_user_studies_cause_variable_idTovariables                                  user_studies[]                     @relation("user_studies_cause_variable_idTovariables")
  user_studies_user_studies_effect_variable_idTovariables                                 user_studies[]                     @relation("user_studies_effect_variable_idTovariables")
  user_tags_user_tags_tag_variable_idTovariables                                          user_tags[]                        @relation("user_tags_tag_variable_idTovariables")
  user_tags_user_tags_tagged_variable_idTovariables                                       user_tags[]                        @relation("user_tags_tagged_variable_idTovariables")
  user_variable_clients                                                                   user_variable_clients[]
  user_variable_outcome_category                                                          user_variable_outcome_category[]
  user_variable_predictor_category                                                        user_variable_predictor_category[]
  user_variables                                                                          user_variables[]
  variable_outcome_category                                                               variable_outcome_category[]
  variable_predictor_category                                                             variable_predictor_category[]
  variable_user_sources                                                                   variable_user_sources[]
  other_variables_variablesTovariables_best_cause_variable_id                             variables[]                        @relation("variablesTovariables_best_cause_variable_id")
  other_variables_variablesTovariables_best_effect_variable_id                            variables[]                        @relation("variablesTovariables_best_effect_variable_id")
  votes_variablesTovotes_cause_variable_id                                                votes[]                            @relation("variablesTovotes_cause_variable_id")
  votes_variablesTovotes_effect_variable_id                                               votes[]                            @relation("variablesTovotes_effect_variable_id")
  wp_users                                                                                wp_users[]

  @@index([variable_category_id, default_unit_id, name, number_of_user_variables, id], map: "IDX_cat_unit_public_name")
  @@index([default_unit_id], map: "fk_variableDefaultUnit")
  @@index([deleted_at, synonyms, number_of_user_variables], map: "public_deleted_at_synonyms_number_of_user_variables_index")
  @@index([best_aggregate_correlation_id], map: "variables_aggregate_correlations_id_fk")
  @@index([analysis_ended_at], map: "variables_analysis_ended_at_index")
  @@index([best_cause_variable_id], map: "variables_best_cause_variable_id_fk")
  @@index([best_effect_variable_id], map: "variables_best_effect_variable_id_fk")
  @@index([client_id], map: "variables_client_id_fk")
  @@index([name, number_of_user_variables], map: "variables_public_name_number_of_user_variables_index")
  @@index([wp_post_id], map: "variables_wp_posts_ID_fk")
}

model votes {
  id                                            Int                     @id @default(autoincrement())
  client_id                                     String?                 @db.VarChar(80)
  user_id                                       BigInt                  @db.UnsignedBigInt
  value                                         Int
  created_at                                    DateTime                @default(now()) @db.Timestamp(0)
  updated_at                                    DateTime                @default(now()) @db.Timestamp(0)
  deleted_at                                    DateTime?               @db.Timestamp(0)
  cause_variable_id                             Int                     @db.UnsignedInt
  effect_variable_id                            Int                     @db.UnsignedInt
  correlation_id                                Int?
  aggregate_correlation_id                      Int?
  is_public                                     Boolean?
  aggregate_correlations                        aggregate_correlations? @relation(fields: [aggregate_correlation_id], references: [id], onUpdate: Restrict, map: "votes_aggregate_correlations_id_fk")
  variables_variablesTovotes_cause_variable_id  variables               @relation("variablesTovotes_cause_variable_id", fields: [cause_variable_id], references: [id], onUpdate: Restrict, map: "votes_cause_variable_id_fk")
  oa_clients                                    oa_clients?             @relation(fields: [client_id], references: [client_id], onDelete: Restrict, onUpdate: Restrict, map: "votes_client_id_fk")
  correlations                                  correlations?           @relation(fields: [correlation_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "votes_correlations_id_fk")
  variables_variablesTovotes_effect_variable_id variables               @relation("variablesTovotes_effect_variable_id", fields: [effect_variable_id], references: [id], onUpdate: Restrict, map: "votes_effect_variable_id_fk_2")
  wp_users                                      wp_users                @relation(fields: [user_id], references: [ID], onUpdate: Restrict, map: "votes_user_id_fk")

  @@unique([user_id, cause_variable_id, effect_variable_id], map: "votes_user_id_cause_variable_id_effect_variable_id_uindex")
  @@index([aggregate_correlation_id], map: "votes_aggregate_correlations_id_fk")
  @@index([cause_variable_id], map: "votes_cause_variable_id_index")
  @@index([client_id], map: "votes_client_id_fk")
  @@index([correlation_id], map: "votes_correlations_id_fk")
  @@index([effect_variable_id], map: "votes_effect_variable_id_index")
}

model wp_blog_versions {
  blog_id      BigInt    @id @default(0)
  db_version   String    @default("") @db.VarChar(20)
  last_updated DateTime  @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  updated_at   DateTime  @default(now()) @db.Timestamp(0)
  created_at   DateTime  @default(now()) @db.Timestamp(0)
  deleted_at   DateTime? @db.Timestamp(0)
  client_id    String?   @db.VarChar(255)

  @@index([db_version], map: "db_version")
}

model wp_blogs {
  blog_id      BigInt    @id @default(autoincrement())
  site_id      BigInt    @default(0)
  domain       String    @default("") @db.VarChar(200)
  path         String    @default("") @db.VarChar(100)
  registered   DateTime  @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  last_updated DateTime  @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  public       Int       @default(1) @db.TinyInt
  archived     Int       @default(0) @db.TinyInt
  mature       Int       @default(0) @db.TinyInt
  spam         Int       @default(0) @db.TinyInt
  deleted      Int       @default(0) @db.TinyInt
  lang_id      Int       @default(0)
  updated_at   DateTime  @default(now()) @db.Timestamp(0)
  created_at   DateTime  @default(now()) @db.Timestamp(0)
  deleted_at   DateTime? @db.Timestamp(0)
  client_id    String?   @db.VarChar(255)

  @@index([domain(length: 50), path(length: 5)], map: "domain")
  @@index([lang_id], map: "lang_id")
}

model wp_commentmeta {
  meta_id     BigInt       @id @default(autoincrement()) @db.UnsignedBigInt
  comment_id  BigInt?      @db.UnsignedBigInt
  meta_key    String?      @db.VarChar(255)
  meta_value  String?      @db.LongText
  updated_at  DateTime     @default(now()) @db.Timestamp(0)
  created_at  DateTime     @default(now()) @db.Timestamp(0)
  deleted_at  DateTime?    @db.Timestamp(0)
  client_id   String?      @db.VarChar(255)
  wp_comments wp_comments? @relation(fields: [comment_id], references: [comment_ID], onDelete: Restrict, onUpdate: Restrict, map: "wp_commentmeta_wp_comments_comment_ID_fk")

  @@index([comment_id], map: "comment_id")
  @@index([meta_key(length: 191)], map: "meta_key")
}

model wp_comments {
  comment_ID           BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  comment_post_ID      BigInt?          @db.UnsignedBigInt
  comment_author       String?          @db.TinyText
  comment_author_email String?          @db.VarChar(100)
  comment_author_url   String?          @db.VarChar(200)
  comment_author_IP    String?          @db.VarChar(100)
  comment_date         DateTime         @default(now()) @db.Timestamp(0)
  comment_date_gmt     DateTime         @default(dbgenerated("'0000-00-00 00:00:00'")) @db.Timestamp(0)
  comment_content      String?          @db.Text
  comment_karma        Int?
  comment_approved     String?          @db.VarChar(20)
  comment_agent        String?          @db.VarChar(255)
  comment_type         String?          @db.VarChar(20)
  comment_parent       BigInt?          @db.UnsignedBigInt
  user_id              BigInt?          @db.UnsignedBigInt
  updated_at           DateTime         @default(now()) @db.Timestamp(0)
  created_at           DateTime         @default(now()) @db.Timestamp(0)
  deleted_at           DateTime?        @db.Timestamp(0)
  client_id            String?          @db.VarChar(255)
  wp_posts             wp_posts?        @relation(fields: [comment_post_ID], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "wp_comments_wp_posts_ID_fk")
  wp_users             wp_users?        @relation(fields: [user_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "wp_comments_wp_users_ID_fk")
  wp_commentmeta       wp_commentmeta[]

  @@index([comment_approved, comment_date_gmt], map: "comment_approved_date_gmt")
  @@index([comment_author_email(length: 10)], map: "comment_author_email")
  @@index([comment_date_gmt], map: "comment_date_gmt")
  @@index([comment_parent], map: "comment_parent")
  @@index([comment_post_ID], map: "comment_post_ID")
  @@index([comment_type], map: "woo_idx_comment_type")
  @@index([user_id], map: "wp_comments_user_id_fk")
}

model wp_links {
  link_id          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  link_url         String    @unique(map: "wp_links_link_url_uindex") @db.VarChar(760)
  link_name        String?   @db.VarChar(255)
  link_image       String?   @db.VarChar(255)
  link_target      String?   @db.VarChar(25)
  link_description String?   @db.VarChar(255)
  link_visible     String?   @db.VarChar(20)
  link_owner       BigInt?   @db.UnsignedBigInt
  link_rating      Int?
  link_updated     DateTime  @default(now()) @db.Timestamp(0)
  link_rel         String?   @db.VarChar(255)
  link_notes       String?   @db.MediumText
  link_rss         String    @default("") @db.VarChar(255)
  updated_at       DateTime  @default(now()) @db.Timestamp(0)
  created_at       DateTime  @default(now()) @db.Timestamp(0)
  deleted_at       DateTime? @db.Timestamp(0)
  client_id        String?   @db.VarChar(255)
  wp_users         wp_users? @relation(fields: [link_owner], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "wp_links_wp_users_ID_fk")

  @@index([link_visible], map: "link_visible")
  @@index([link_owner], map: "wp_links_wp_users_ID_fk")
}

model wp_options {
  option_id    BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  option_name  String?   @unique(map: "option_name")
  option_value String?   @db.LongText
  autoload     String?   @db.VarChar(20)
  updated_at   DateTime  @default(now()) @db.Timestamp(0)
  created_at   DateTime  @default(now()) @db.Timestamp(0)
  deleted_at   DateTime? @db.Timestamp(0)
  client_id    String?   @db.VarChar(255)
}

model wp_postmeta {
  meta_id    BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  post_id    BigInt?   @db.UnsignedBigInt
  meta_key   String?   @db.VarChar(255)
  meta_value String?   @db.LongText
  updated_at DateTime  @default(now()) @db.Timestamp(0)
  created_at DateTime  @default(now()) @db.Timestamp(0)
  deleted_at DateTime? @db.Timestamp(0)
  client_id  String?   @db.VarChar(255)
  wp_posts   wp_posts? @relation(fields: [post_id], references: [ID], onDelete: Cascade, map: "wp_postmeta_wp_posts_ID_fk")

  @@index([meta_key(length: 191)], map: "meta_key")
  @@index([post_id], map: "post_id")
}

model wp_posts {
  ID                                      BigInt                   @id @default(autoincrement()) @db.UnsignedBigInt
  post_author                             BigInt?                  @db.UnsignedBigInt
  post_date                               DateTime                 @default(now()) @db.Timestamp(0)
  post_date_gmt                           DateTime                 @default(dbgenerated("'0000-00-00 00:00:00'")) @db.Timestamp(0)
  post_content                            String?                  @db.LongText
  post_title                              String?                  @db.Text
  post_excerpt                            String?                  @db.Text
  post_status                             String?                  @db.VarChar(20)
  comment_status                          String?                  @db.VarChar(20)
  ping_status                             String?                  @db.VarChar(20)
  post_password                           String?                  @db.VarChar(255)
  post_name                               String?                  @db.VarChar(200)
  to_ping                                 String?                  @db.Text
  pinged                                  String?                  @db.Text
  post_modified                           DateTime                 @default(dbgenerated("'0000-00-00 00:00:00'")) @db.Timestamp(0)
  post_modified_gmt                       DateTime                 @default(dbgenerated("'0000-00-00 00:00:00'")) @db.Timestamp(0)
  post_content_filtered                   String?                  @db.LongText
  post_parent                             BigInt?                  @db.UnsignedBigInt
  guid                                    String?                  @db.VarChar(255)
  menu_order                              Int?
  post_type                               String?                  @db.VarChar(20)
  post_mime_type                          String?                  @db.VarChar(100)
  comment_count                           BigInt?
  updated_at                              DateTime                 @default(now()) @db.Timestamp(0)
  created_at                              DateTime                 @default(now()) @db.Timestamp(0)
  deleted_at                              DateTime?                @db.Timestamp(0)
  client_id                               String?                  @db.VarChar(255)
  record_size_in_kb                       Int?
  wp_users_wp_posts_post_authorTowp_users wp_users?                @relation("wp_posts_post_authorTowp_users", fields: [post_author], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "wp_posts_wp_users_ID_fk")
  aggregate_correlations                  aggregate_correlations[]
  applications                            applications[]
  connections                             connections[]
  connectors                              connectors[]
  correlations                            correlations[]
  sent_emails                             sent_emails[]
  spreadsheet_importers                   spreadsheet_importers[]
  user_variables                          user_variables[]
  variable_categories                     variable_categories[]
  variables                               variables[]
  wp_comments                             wp_comments[]
  wp_postmeta                             wp_postmeta[]
  wp_term_relationships                   wp_term_relationships[]
  wp_users_wp_postsTowp_users_wp_post_id  wp_users[]               @relation("wp_postsTowp_users_wp_post_id")

  @@index([post_author, post_modified, deleted_at], map: "idx_wp_posts_post_author_post_modified_deleted_at")
  @@index([post_author], map: "post_author")
  @@index([post_name(length: 191)], map: "post_name")
  @@index([post_parent], map: "post_parent")
  @@index([post_type, post_status, post_date, ID], map: "type_status_date")
  @@index([post_modified], map: "wp_posts_post_modified_index")
}

model wp_term_relationships {
  object_id        BigInt           @db.UnsignedBigInt
  term_taxonomy_id BigInt           @db.UnsignedBigInt
  term_order       Int?
  updated_at       DateTime         @default(now()) @db.Timestamp(0)
  created_at       DateTime         @default(now()) @db.Timestamp(0)
  deleted_at       DateTime?        @db.Timestamp(0)
  client_id        String?          @db.VarChar(255)
  wp_posts         wp_posts         @relation(fields: [object_id], references: [ID], onDelete: Cascade, map: "wp_term_relationships_wp_posts_ID_fk")
  wp_term_taxonomy wp_term_taxonomy @relation(fields: [term_taxonomy_id], references: [term_taxonomy_id], onUpdate: Restrict, map: "wp_term_relationships_wp_term_taxonomy_term_taxonomy_id_fk")

  @@id([object_id, term_taxonomy_id])
  @@index([term_taxonomy_id], map: "term_taxonomy_id")
}

model wp_term_taxonomy {
  term_taxonomy_id      BigInt                  @id @default(autoincrement()) @db.UnsignedBigInt
  term_id               BigInt?                 @db.UnsignedBigInt
  taxonomy              String?                 @db.VarChar(32)
  description           String?                 @db.LongText
  parent                BigInt?                 @db.UnsignedBigInt
  count                 BigInt?
  updated_at            DateTime                @default(now()) @db.Timestamp(0)
  created_at            DateTime                @default(now()) @db.Timestamp(0)
  deleted_at            DateTime?               @db.Timestamp(0)
  client_id             String?                 @db.VarChar(255)
  wp_terms              wp_terms?               @relation(fields: [term_id], references: [term_id], onDelete: Restrict, onUpdate: Restrict, map: "wp_term_taxonomy_wp_terms_term_id_fk")
  wp_term_relationships wp_term_relationships[]

  @@unique([term_id, taxonomy], map: "term_id_taxonomy")
  @@index([taxonomy], map: "taxonomy")
}

model wp_termmeta {
  meta_id    BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  term_id    BigInt    @default(0) @db.UnsignedBigInt
  meta_key   String?   @db.VarChar(255)
  meta_value String?   @db.LongText
  updated_at DateTime  @default(now()) @db.Timestamp(0)
  created_at DateTime  @default(now()) @db.Timestamp(0)
  deleted_at DateTime? @db.Timestamp(0)
  client_id  String?   @db.VarChar(255)

  @@index([meta_key(length: 191)], map: "meta_key")
  @@index([term_id], map: "term_id")
}

model wp_terms {
  term_id          BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  name             String?            @db.VarChar(200)
  slug             String?            @db.VarChar(200)
  term_group       BigInt?
  updated_at       DateTime           @default(now()) @db.Timestamp(0)
  created_at       DateTime           @default(now()) @db.Timestamp(0)
  deleted_at       DateTime?          @db.Timestamp(0)
  client_id        String?            @db.VarChar(255)
  wp_term_taxonomy wp_term_taxonomy[]

  @@index([name(length: 191)], map: "name")
  @@index([slug(length: 191)], map: "slug")
}

model wp_usermeta {
  umeta_id   BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id    BigInt?   @db.UnsignedBigInt
  meta_key   String?   @db.VarChar(255)
  meta_value String?   @db.LongText
  updated_at DateTime  @default(now()) @db.Timestamp(0)
  created_at DateTime  @default(now()) @db.Timestamp(0)
  deleted_at DateTime? @db.Timestamp(0)
  client_id  String?   @db.VarChar(255)
  wp_users   wp_users? @relation(fields: [user_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "wp_usermeta_wp_users_ID_fk")

  @@index([meta_key], map: "meta_key")
  @@index([user_id], map: "user_id")
}

model wp_users {
  ID                                                                BigInt                            @id @default(autoincrement()) @db.UnsignedBigInt
  client_id                                                         String                            @db.VarChar(255)
  user_login                                                        String?                           @unique(map: "user_login_key") @db.VarChar(60)
  user_email                                                        String?                           @unique(map: "user_email") @db.VarChar(100)
  email                                                             String?                           @db.VarChar(320)
  user_pass                                                         String?                           @db.VarChar(255)
  user_nicename                                                     String?                           @db.VarChar(50)
  user_url                                                          String?                           @db.VarChar(2083)
  user_registered                                                   DateTime?                         @db.DateTime(0)
  user_activation_key                                               String?                           @db.VarChar(255)
  user_status                                                       Int?
  display_name                                                      String?                           @db.VarChar(250)
  avatar_image                                                      String?                           @db.VarChar(2083)
  reg_provider                                                      String?                           @db.VarChar(25)
  provider_id                                                       String?                           @db.VarChar(255)
  provider_token                                                    String?                           @db.VarChar(255)
  remember_token                                                    String?                           @db.VarChar(100)
  updated_at                                                        DateTime                          @default(now()) @db.Timestamp(0)
  created_at                                                        DateTime                          @default(now()) @db.Timestamp(0)
  refresh_token                                                     String?                           @db.VarChar(255)
  unsubscribed                                                      Boolean?                          @default(false)
  old_user                                                          Boolean?                          @default(false)
  stripe_active                                                     Boolean?                          @default(false)
  stripe_id                                                         String?                           @db.VarChar(255)
  stripe_subscription                                               String?                           @db.VarChar(255)
  stripe_plan                                                       String?                           @db.VarChar(100)
  last_four                                                         String?                           @db.VarChar(4)
  trial_ends_at                                                     DateTime?                         @db.Timestamp(0)
  subscription_ends_at                                              DateTime?                         @db.Timestamp(0)
  roles                                                             String?                           @db.VarChar(255)
  time_zone_offset                                                  Int?
  deleted_at                                                        DateTime?                         @db.Timestamp(0)
  earliest_reminder_time                                            DateTime                          @default(dbgenerated("'06:00:00'")) @db.Time(0)
  latest_reminder_time                                              DateTime                          @default(dbgenerated("'22:00:00'")) @db.Time(0)
  push_notifications_enabled                                        Boolean?                          @default(true)
  track_location                                                    Boolean?                          @default(false)
  combine_notifications                                             Boolean?                          @default(false)
  send_reminder_notification_emails                                 Boolean?                          @default(false)
  send_predictor_emails                                             Boolean?                          @default(true)
  get_preview_builds                                                Boolean?                          @default(false)
  subscription_provider                                             wp_users_subscription_provider?
  last_sms_tracking_reminder_notification_id                        BigInt?                           @db.UnsignedBigInt
  sms_notifications_enabled                                         Boolean?                          @default(false)
  phone_verification_code                                           String?                           @db.VarChar(25)
  phone_number                                                      String?                           @db.VarChar(25)
  has_android_app                                                   Boolean?                          @default(false)
  has_ios_app                                                       Boolean?                          @default(false)
  has_chrome_extension                                              Boolean?                          @default(false)
  referrer_user_id                                                  BigInt?                           @db.UnsignedBigInt
  address                                                           String?                           @db.VarChar(255)
  birthday                                                          String?                           @db.VarChar(255)
  country                                                           String?                           @db.VarChar(255)
  cover_photo                                                       String?                           @db.VarChar(2083)
  currency                                                          String?                           @db.VarChar(255)
  first_name                                                        String?                           @db.VarChar(255)
  gender                                                            String?                           @db.VarChar(255)
  language                                                          String?                           @db.VarChar(255)
  last_name                                                         String?                           @db.VarChar(255)
  state                                                             String?                           @db.VarChar(255)
  tag_line                                                          String?                           @db.VarChar(255)
  verified                                                          String?                           @db.VarChar(255)
  zip_code                                                          String?                           @db.VarChar(255)
  spam                                                              Int                               @default(0) @db.TinyInt
  deleted                                                           Int                               @default(0) @db.TinyInt
  card_brand                                                        String?                           @db.VarChar(255)
  card_last_four                                                    String?                           @db.VarChar(4)
  last_login_at                                                     DateTime?                         @db.Timestamp(0)
  timezone                                                          String?                           @db.VarChar(255)
  number_of_correlations                                            Int?
  number_of_connections                                             Int?
  number_of_tracking_reminders                                      Int?
  number_of_user_variables                                          Int?
  number_of_raw_measurements_with_tags                              Int?
  number_of_raw_measurements_with_tags_at_last_correlation          Int?
  number_of_votes                                                   Int?
  number_of_studies                                                 Int?
  last_correlation_at                                               DateTime?                         @db.Timestamp(0)
  last_email_at                                                     DateTime?                         @db.Timestamp(0)
  last_push_at                                                      DateTime?                         @db.Timestamp(0)
  primary_outcome_variable_id                                       Int?                              @db.UnsignedInt
  wp_post_id                                                        BigInt?                           @db.UnsignedBigInt
  analysis_ended_at                                                 DateTime?                         @db.Timestamp(0)
  analysis_requested_at                                             DateTime?                         @db.Timestamp(0)
  analysis_started_at                                               DateTime?                         @db.Timestamp(0)
  internal_error_message                                            String?                           @db.Text
  newest_data_at                                                    DateTime?                         @db.Timestamp(0)
  reason_for_analysis                                               String?                           @db.VarChar(255)
  user_error_message                                                String?                           @db.Text
  status                                                            String?                           @db.VarChar(25)
  analysis_settings_modified_at                                     DateTime?                         @db.Timestamp(0)
  number_of_applications                                            Int?                              @db.UnsignedInt
  number_of_oauth_access_tokens                                     Int?                              @db.UnsignedInt
  number_of_oauth_authorization_codes                               Int?                              @db.UnsignedInt
  number_of_oauth_clients                                           Int?                              @db.UnsignedInt
  number_of_oauth_refresh_tokens                                    Int?                              @db.UnsignedInt
  number_of_button_clicks                                           Int?                              @db.UnsignedInt
  number_of_collaborators                                           Int?                              @db.UnsignedInt
  number_of_connector_imports                                       Int?                              @db.UnsignedInt
  number_of_connector_requests                                      Int?                              @db.UnsignedInt
  number_of_measurement_exports                                     Int?                              @db.UnsignedInt
  number_of_measurement_imports                                     Int?                              @db.UnsignedInt
  number_of_measurements                                            Int?                              @db.UnsignedInt
  number_of_sent_emails                                             Int?                              @db.UnsignedInt
  number_of_subscriptions                                           Int?                              @db.UnsignedInt
  number_of_tracking_reminder_notifications                         Int?                              @db.UnsignedInt
  number_of_user_tags                                               Int?                              @db.UnsignedInt
  number_of_users_where_referrer_user                               Int?                              @db.UnsignedInt
  share_all_data                                                    Boolean                           @default(false)
  deletion_reason                                                   String?                           @db.VarChar(280)
  password                                                          String?                           @db.VarChar(255)
  number_of_patients                                                Int                               @db.UnsignedInt
  is_public                                                         Boolean?
  sort_order                                                        Int
  number_of_sharers                                                 Int                               @db.UnsignedInt
  number_of_trustees                                                Int                               @db.UnsignedInt
  slug                                                              String?                           @unique(map: "wp_users_slug_uindex") @db.VarChar(200)
  eth_address                                                       String?                           @db.VarChar(255)
  variables                                                         variables?                        @relation(fields: [primary_outcome_variable_id], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "wp_users_variables_id_fk")
  wp_posts_wp_postsTowp_users_wp_post_id                            wp_posts?                         @relation("wp_postsTowp_users_wp_post_id", fields: [wp_post_id], references: [ID], map: "wp_users_wp_posts_ID_fk")
  wp_users                                                          wp_users?                         @relation("wp_usersTowp_users", fields: [referrer_user_id], references: [ID], onDelete: Restrict, onUpdate: Restrict, map: "wp_users_wp_users_ID_fk")
  applications                                                      applications[]
  button_clicks                                                     button_clicks[]
  buttons                                                           buttons[]
  cards                                                             cards[]
  child_parents_child_parents_child_user_idTowp_users               child_parents[]                   @relation("child_parents_child_user_idTowp_users")
  child_parents_child_parents_parent_user_idTowp_users              child_parents[]                   @relation("child_parents_parent_user_idTowp_users")
  cohort_studies                                                    cohort_studies[]
  collaborators                                                     collaborators[]
  connections                                                       connections[]
  connector_imports                                                 connector_imports[]
  connector_requests                                                connector_requests[]
  correlation_causality_votes                                       correlation_causality_votes[]
  correlation_usefulness_votes                                      correlation_usefulness_votes[]
  correlations                                                      correlations[]
  credentials                                                       credentials[]
  device_tokens                                                     device_tokens[]
  github_repositories                                               github_repositories[]
  global_studies                                                    global_studies[]
  measurement_exports                                               measurement_exports[]
  measurement_imports                                               measurement_imports[]
  measurements                                                      measurements[]
  oa_access_tokens                                                  oa_access_tokens[]
  oa_authorization_codes                                            oa_authorization_codes[]
  oa_clients                                                        oa_clients[]
  oa_refresh_tokens                                                 oa_refresh_tokens[]
  patient_physicians_patient_physicians_patient_user_idTowp_users   patient_physicians[]              @relation("patient_physicians_patient_user_idTowp_users")
  patient_physicians_patient_physicians_physician_user_idTowp_users patient_physicians[]              @relation("patient_physicians_physician_user_idTowp_users")
  permission_user                                                   permission_user[]
  phrases                                                           phrases[]
  purchases                                                         purchases[]
  role_user                                                         role_user[]
  sent_emails                                                       sent_emails[]
  sharer_trustees_sharer_trustees_sharer_user_idTowp_users          sharer_trustees[]                 @relation("sharer_trustees_sharer_user_idTowp_users")
  sharer_trustees_sharer_trustees_trustee_user_idTowp_users         sharer_trustees[]                 @relation("sharer_trustees_trustee_user_idTowp_users")
  studies                                                           studies[]
  subscriptions                                                     subscriptions[]
  tracker_log                                                       tracker_log[]
  tracker_sessions                                                  tracker_sessions[]
  tracking_reminder_notifications                                   tracking_reminder_notifications[]
  tracking_reminders                                                tracking_reminders[]
  user_clients                                                      user_clients[]
  user_studies                                                      user_studies[]
  user_tags                                                         user_tags[]
  user_variable_clients                                             user_variable_clients[]
  user_variables                                                    user_variables[]
  variable_user_sources                                             variable_user_sources[]
  votes                                                             votes[]
  wp_comments                                                       wp_comments[]
  wp_links                                                          wp_links[]
  wp_posts_wp_posts_post_authorTowp_users                           wp_posts[]                        @relation("wp_posts_post_authorTowp_users")
  wp_usermeta                                                       wp_usermeta[]
  other_wp_users                                                    wp_users[]                        @relation("wp_usersTowp_users")

  @@index([user_nicename], map: "user_nicename")
  @@index([eth_address], map: "wp_users_eth_address_index")
  @@index([primary_outcome_variable_id], map: "wp_users_variables_id_fk")
  @@index([wp_post_id], map: "wp_users_wp_posts_ID_fk")
  @@index([referrer_user_id], map: "wp_users_wp_users_ID_fk")
}

model wp_wc_admin_note_actions {
  action_id  BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  note_id    BigInt  @db.UnsignedBigInt
  name       String  @db.VarChar(255)
  label      String  @db.VarChar(255)
  query      String  @db.LongText
  status     String  @db.VarChar(255)
  is_primary Boolean @default(false)

  @@index([note_id], map: "note_id")
}

model wp_wc_admin_notes {
  note_id       BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name          String    @db.VarChar(255)
  type          String    @db.VarChar(20)
  locale        String    @db.VarChar(20)
  title         String    @db.LongText
  content       String    @db.LongText
  icon          String    @db.VarChar(200)
  content_data  String?   @db.LongText
  status        String    @db.VarChar(200)
  source        String    @db.VarChar(200)
  date_created  DateTime  @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  date_reminder DateTime? @db.DateTime(0)
  is_snoozable  Boolean   @default(false)
}

model wp_wc_category_lookup {
  category_tree_id BigInt @db.UnsignedBigInt
  category_id      BigInt @db.UnsignedBigInt

  @@id([category_tree_id, category_id])
}

model wp_wc_customer_lookup {
  customer_id      BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id          BigInt?   @unique(map: "user_id") @db.UnsignedBigInt
  username         String    @default("") @db.VarChar(60)
  first_name       String    @db.VarChar(255)
  last_name        String    @db.VarChar(255)
  email            String?   @db.VarChar(100)
  date_last_active DateTime? @db.Timestamp(0)
  date_registered  DateTime? @db.Timestamp(0)
  country          String    @default("") @db.Char(2)
  postcode         String    @default("") @db.VarChar(20)
  city             String    @default("") @db.VarChar(100)
  state            String    @default("") @db.VarChar(100)

  @@index([email], map: "email")
}

model wp_wc_download_log {
  download_log_id                                 BigInt                                          @id @default(autoincrement()) @db.UnsignedBigInt
  timestamp                                       DateTime                                        @db.DateTime(0)
  permission_id                                   BigInt                                          @db.UnsignedBigInt
  user_id                                         BigInt?                                         @db.UnsignedBigInt
  user_ip_address                                 String?                                         @default("") @db.VarChar(100)
  wp_woocommerce_downloadable_product_permissions wp_woocommerce_downloadable_product_permissions @relation(fields: [permission_id], references: [permission_id], onDelete: Cascade, onUpdate: Restrict, map: "fk_wp_wc_download_log_permission_id")

  @@index([permission_id], map: "permission_id")
  @@index([timestamp], map: "timestamp")
}

model wp_wc_order_coupon_lookup {
  order_id        BigInt   @db.UnsignedBigInt
  coupon_id       BigInt   @db.UnsignedBigInt
  date_created    DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  discount_amount Float    @default(0)

  @@id([order_id, coupon_id])
  @@index([coupon_id], map: "coupon_id")
  @@index([date_created], map: "date_created")
}

model wp_wc_order_product_lookup {
  order_item_id         BigInt   @id @db.UnsignedBigInt
  order_id              BigInt   @db.UnsignedBigInt
  product_id            BigInt   @db.UnsignedBigInt
  variation_id          BigInt   @db.UnsignedBigInt
  customer_id           BigInt?  @db.UnsignedBigInt
  date_created          DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  product_qty           Int
  product_net_revenue   Float    @default(0)
  product_gross_revenue Float    @default(0)
  coupon_amount         Float    @default(0)
  tax_amount            Float    @default(0)
  shipping_amount       Float    @default(0)
  shipping_tax_amount   Float    @default(0)

  @@index([customer_id], map: "customer_id")
  @@index([date_created], map: "date_created")
  @@index([order_id], map: "order_id")
  @@index([product_id], map: "product_id")
}

model wp_wc_order_stats {
  order_id           BigInt   @id @db.UnsignedBigInt
  parent_id          BigInt   @default(0) @db.UnsignedBigInt
  date_created       DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  date_created_gmt   DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  num_items_sold     Int      @default(0)
  total_sales        Float    @default(0)
  tax_total          Float    @default(0)
  shipping_total     Float    @default(0)
  net_total          Float    @default(0)
  returning_customer Boolean?
  status             String   @db.VarChar(200)
  customer_id        BigInt   @db.UnsignedBigInt

  @@index([customer_id], map: "customer_id")
  @@index([date_created], map: "date_created")
  @@index([status(length: 191)], map: "status")
}

model wp_wc_order_tax_lookup {
  order_id     BigInt   @db.UnsignedBigInt
  tax_rate_id  BigInt   @db.UnsignedBigInt
  date_created DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  shipping_tax Float    @default(0)
  order_tax    Float    @default(0)
  total_tax    Float    @default(0)

  @@id([order_id, tax_rate_id])
  @@index([date_created], map: "date_created")
  @@index([tax_rate_id], map: "tax_rate_id")
}

model wp_wc_product_meta_lookup {
  product_id     BigInt   @id
  sku            String?  @default("") @db.VarChar(100)
  virtual        Boolean? @default(false)
  downloadable   Boolean? @default(false)
  min_price      Decimal? @db.Decimal(10, 2)
  max_price      Decimal? @db.Decimal(10, 2)
  onsale         Boolean? @default(false)
  stock_quantity Float?
  stock_status   String?  @default("instock") @db.VarChar(100)
  rating_count   BigInt?  @default(0)
  average_rating Decimal? @default(0.00) @db.Decimal(3, 2)
  total_sales    BigInt?  @default(0)

  @@index([downloadable], map: "downloadable")
  @@index([min_price, max_price], map: "min_max_price")
  @@index([onsale], map: "onsale")
  @@index([stock_quantity], map: "stock_quantity")
  @@index([stock_status], map: "stock_status")
  @@index([virtual], map: "virtual")
}

model wp_wc_tax_rate_classes {
  tax_rate_class_id BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  name              String @default("") @db.VarChar(200)
  slug              String @unique(map: "slug", length: 191) @default("") @db.VarChar(200)
}

model wp_wc_webhooks {
  webhook_id        BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  status            String   @db.VarChar(200)
  name              String   @db.Text
  user_id           BigInt   @db.UnsignedBigInt
  delivery_url      String   @db.Text
  secret            String   @db.Text
  topic             String   @db.VarChar(200)
  date_created      DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  date_created_gmt  DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  date_modified     DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  date_modified_gmt DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  api_version       Int      @db.SmallInt
  failure_count     Int      @default(0) @db.SmallInt
  pending_delivery  Boolean  @default(false)

  @@index([user_id], map: "user_id")
}

model wp_woocommerce_api_keys {
  key_id          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id         BigInt    @db.UnsignedBigInt
  description     String?   @db.VarChar(200)
  permissions     String    @db.VarChar(10)
  consumer_key    String    @db.Char(64)
  consumer_secret String    @db.Char(43)
  nonces          String?   @db.LongText
  truncated_key   String    @db.Char(7)
  last_access     DateTime? @db.DateTime(0)

  @@index([consumer_key], map: "consumer_key")
  @@index([consumer_secret], map: "consumer_secret")
}

model wp_woocommerce_attribute_taxonomies {
  attribute_id      BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  attribute_name    String  @db.VarChar(200)
  attribute_label   String? @db.VarChar(200)
  attribute_type    String  @db.VarChar(20)
  attribute_orderby String  @db.VarChar(20)
  attribute_public  Int     @default(1)

  @@index([attribute_name(length: 20)], map: "attribute_name")
}

model wp_woocommerce_downloadable_product_permissions {
  permission_id       BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  download_id         String               @db.VarChar(36)
  product_id          BigInt               @db.UnsignedBigInt
  order_id            BigInt               @default(0) @db.UnsignedBigInt
  order_key           String               @db.VarChar(200)
  user_email          String               @db.VarChar(200)
  user_id             BigInt?              @db.UnsignedBigInt
  downloads_remaining String?              @db.VarChar(9)
  access_granted      DateTime             @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  access_expires      DateTime?            @db.DateTime(0)
  download_count      BigInt               @default(0) @db.UnsignedBigInt
  wp_wc_download_log  wp_wc_download_log[]

  @@index([product_id, order_id, order_key(length: 16), download_id], map: "download_order_key_product")
  @@index([download_id, order_id, product_id], map: "download_order_product")
  @@index([order_id], map: "order_id")
  @@index([user_id, order_id, downloads_remaining, access_expires], map: "user_order_remaining_expires")
}

model wp_woocommerce_log {
  log_id    BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  timestamp DateTime @db.DateTime(0)
  level     Int      @db.SmallInt
  source    String   @db.VarChar(200)
  message   String   @db.LongText
  context   String?  @db.LongText

  @@index([level], map: "level")
}

model wp_woocommerce_order_itemmeta {
  meta_id       BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  order_item_id BigInt  @db.UnsignedBigInt
  meta_key      String? @db.VarChar(255)
  meta_value    String? @db.LongText

  @@index([meta_key(length: 32)], map: "meta_key")
  @@index([order_item_id], map: "order_item_id")
}

model wp_woocommerce_order_items {
  order_item_id   BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  order_item_name String @db.Text
  order_item_type String @default("") @db.VarChar(200)
  order_id        BigInt @db.UnsignedBigInt

  @@index([order_id], map: "order_id")
}

model wp_woocommerce_payment_tokenmeta {
  meta_id          BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  payment_token_id BigInt  @db.UnsignedBigInt
  meta_key         String? @db.VarChar(255)
  meta_value       String? @db.LongText

  @@index([meta_key(length: 32)], map: "meta_key")
  @@index([payment_token_id], map: "payment_token_id")
}

model wp_woocommerce_payment_tokens {
  token_id   BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  gateway_id String  @db.VarChar(200)
  token      String  @db.Text
  user_id    BigInt  @default(0) @db.UnsignedBigInt
  type       String  @db.VarChar(200)
  is_default Boolean @default(false)

  @@index([user_id], map: "user_id")
}

model wp_woocommerce_sessions {
  session_id     BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  session_key    String @unique(map: "session_key") @db.Char(32)
  session_value  String @db.LongText
  session_expiry BigInt @db.UnsignedBigInt
}

model wp_woocommerce_shipping_zone_locations {
  location_id   BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  zone_id       BigInt @db.UnsignedBigInt
  location_code String @db.VarChar(200)
  location_type String @db.VarChar(40)

  @@index([location_id], map: "location_id")
  @@index([location_type(length: 10), location_code(length: 20)], map: "location_type_code")
}

model wp_woocommerce_shipping_zone_methods {
  zone_id      BigInt  @db.UnsignedBigInt
  instance_id  BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  method_id    String  @db.VarChar(200)
  method_order BigInt  @db.UnsignedBigInt
  is_enabled   Boolean @default(true)
}

model wp_woocommerce_shipping_zones {
  zone_id    BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  zone_name  String @db.VarChar(200)
  zone_order BigInt @db.UnsignedBigInt
}

model wp_woocommerce_tax_rate_locations {
  location_id   BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  location_code String @db.VarChar(200)
  tax_rate_id   BigInt @db.UnsignedBigInt
  location_type String @db.VarChar(40)

  @@index([location_type(length: 10), location_code(length: 20)], map: "location_type_code")
  @@index([tax_rate_id], map: "tax_rate_id")
}

model wp_woocommerce_tax_rates {
  tax_rate_id       BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  tax_rate_country  String @default("") @db.VarChar(2)
  tax_rate_state    String @default("") @db.VarChar(200)
  tax_rate          String @default("") @db.VarChar(8)
  tax_rate_name     String @default("") @db.VarChar(200)
  tax_rate_priority BigInt @db.UnsignedBigInt
  tax_rate_compound Int    @default(0)
  tax_rate_shipping Int    @default(1)
  tax_rate_order    BigInt @db.UnsignedBigInt
  tax_rate_class    String @default("") @db.VarChar(200)

  @@index([tax_rate_class(length: 10)], map: "tax_rate_class")
  @@index([tax_rate_country], map: "tax_rate_country")
  @@index([tax_rate_priority], map: "tax_rate_priority")
  @@index([tax_rate_state(length: 2)], map: "tax_rate_state")
}

model wp_wpreactions_reacted_users {
  id           Int      @id @default(autoincrement()) @db.MediumInt
  bind_id      Int
  react_id     String   @db.VarChar(30)
  reacted_to   String   @db.VarChar(10)
  reacted_date DateTime @db.DateTime(0)
}

enum collaborators_type {
  owner
  collaborator
}

enum measurement_exports_type {
  user
  app
}

enum sharer_trustees_relationship_type {
  patient_physician @map("patient-physician")
  student_teacher   @map("student-teacher")
  child_parent      @map("child-parent")
  friend
}

enum measurement_exports_output_type {
  csv
  xls
  pdf
}

enum purchases_subscription_provider {
  stripe
  apple
  google
}

enum variable_categories_combination_operation {
  SUM
  MEAN
}

enum variables_combination_operation {
  SUM
  MEAN
}

enum units_filling_type {
  zero
  none
  interpolation
  value
}

enum user_variables_filling_type {
  value
  none
}

enum variable_categories_filling_type {
  zero
  none
  interpolation
  value
}

enum units_scale {
  nominal
  interval
  ratio
  ordinal
}

enum variable_categories_valence {
  positive
  negative
  neutral
}

enum variable_categories_is_goal {
  ALWAYS
  SOMETIMES
  NEVER
}

enum wp_users_subscription_provider {
  stripe
  apple
  google
}

enum variable_categories_controllable {
  ALWAYS
  SOMETIMES
  NEVER
}

enum variables_valence {
  positive
  negative
  neutral
}

enum user_variables_combination_operation {
  SUM
  MEAN
}

enum user_variables_valence {
  positive
  negative
  neutral
}

enum aggregate_correlations_strength_level {
  VERY_STRONG @map("VERY STRONG")
  STRONG
  MODERATE
  WEAK
  VERY_WEAK   @map("VERY WEAK")
}

enum aggregate_correlations_confidence_level {
  HIGH
  MEDIUM
  LOW
}

enum cohort_study_statistics_strength_level {
  VERY_STRONG @map("VERY STRONG")
  STRONG
  MODERATE
  WEAK
  VERY_WEAK   @map("VERY WEAK")
}

enum aggregate_correlations_relationship {
  POSITIVE
  NEGATIVE
  NONE
}

enum cohort_study_statistics_confidence_level {
  HIGH
  MEDIUM
  LOW
}

enum cohort_study_statistics_relationship {
  POSITIVE
  NEGATIVE
  NONE
}

enum variables_filling_type {
  zero
  none
  interpolation
  value
}

enum correlations_strength_level {
  VERY_STRONG @map("VERY STRONG")
  STRONG
  MODERATE
  WEAK
  VERY_WEAK   @map("VERY WEAK")
}

enum correlations_confidence_level {
  HIGH
  MEDIUM
  LOW
}

enum correlations_relationship {
  POSITIVE
  NEGATIVE
  NONE
}
