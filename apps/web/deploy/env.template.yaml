# Base configuration for all tenants
shared:
  NODE_ENV: production
  NEXT_TELEMETRY_DISABLED: "1"
  SKIP_ENV_VALIDATION: "true"
  PORT: "3000"
  HOSTNAME: "0.0.0.0"

# Tenant-specific configuration
tenant:
  name: "{{TENANT_NAME}}"
  domain: "{{TENANT_DOMAIN}}"
  config:
    NEXTAUTH_URL: "https://{{TENANT_DOMAIN}}"
    NEXT_PUBLIC_APP_URL: "https://{{TENANT_DOMAIN}}"
    DATABASE_URL: "postgresql://user:password@{{TENANT_DB_HOST}}:5432/{{TENANT_DB_NAME}}"
    
# Shared secrets (to be populated from AWS Secrets Manager)
secrets:
  - name: NEXTAUTH_SECRET
    from: "/${tenant.name}/nextauth-secret"
  - name: GOOGLE_CLIENT_ID
    from: "/${tenant.name}/google-client-id"
  - name: GOOGLE_CLIENT_SECRET
    from: "/${tenant.name}/google-client-secret"
  - name: GITHUB_CLIENT_ID
    from: "/${tenant.name}/github-client-id"
  - name: GITHUB_CLIENT_SECRET
    from: "/${tenant.name}/github-client-secret"
  - name: EMAIL_SERVER
    from: "/${tenant.name}/email-server"
  - name: EMAIL_FROM
    from: "/${tenant.name}/email-from"
  - name: RESEND_API_KEY
    from: "/${tenant.name}/resend-api-key"
  - name: DFDA_CLIENT_ID
    from: "/${tenant.name}/dfda-client-id"
  - name: DFDA_CLIENT_SECRET
    from: "/${tenant.name}/dfda-client-secret"
  - name: OPENAI_API_KEY
    from: "/${tenant.name}/openai-api-key"
  - name: EXASEARCH_API_KEY
    from: "/${tenant.name}/exasearch-api-key" 